{"version":3,"file":"static/js/416.7d1492a1.chunk.js","mappings":"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","sources":["Routes/Profile.js","services/user.service.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import React , {useState , useEffect , useRef} from \"react\";\r\nimport '../styles/Profile.css'\r\nimport UserService from \"../services/user.service\";\r\nimport Spinner from '../components/Spinner'\r\nimport AuthService from \"../services/auth.service\";\r\n\r\nconst Profile = () => {\r\n  const [user , setuser] = useState();\r\n  const [Loading, setLoading] = useState(false)\r\n  const [toggleImage, settoggleImage] = useState(false)\r\n  const [toggleAddress, settoggleAddress] = useState(false)\r\n  let addressText = useRef(\"\")\r\n  const [newPic, setNewPic] = useState(\r\n    {\r\n        photo: '',\r\n    }\r\n);\r\n\r\n\r\nuseEffect(() => {\r\n  UserService.getAllUsers().then(res=>{\r\n    const response = res?.data\r\n    setuser(response[0])\r\n  })\r\n}, [])\r\n\r\nconst handleSubmitAddress = (e) => {\r\n  e.preventDefault();\r\n  //setLoading(true);\r\n  \r\n  let address = addressText.current.value;\r\n  //console.log(\"hello\",address)\r\n  if(address && address.length!==0){\r\n    AuthService.addAddress(address).then(res=>{\r\n      setuser(res);\r\n      console.log(\"user \",res)\r\n      window.location.reload();\r\n      setLoading(false);\r\n\r\n    })\r\n     //console.log(\"hello inside submit\")\r\n  }\r\n  settoggleAddress(!toggleAddress)\r\n}\r\n\r\nconst handleSubmit = (e) => {\r\n  e.preventDefault();\r\n  const formData = new FormData();\r\n  formData.append('photo', newPic.photo);\r\n  setLoading(true)\r\n  \r\n  if(formData){\r\n    AuthService.addimage(formData).then(res=>{\r\n      if(!res){\r\n        console.log(\"Image not set\")\r\n      }else{\r\n        setuser(res);\r\n      console.log(res);\r\n      \r\n      }\r\n      window.location.reload();\r\n      setLoading(false)\r\n      \r\n    })\r\n  }\r\n  settoggleImage(!toggleImage)\r\n}\r\n\r\nconst handlePhoto = (e) => {\r\n  setNewPic({...newPic, photo: e.target.files[0]});\r\n}\r\n\r\nconst handleAddresstoggle = () => {\r\n  settoggleAddress(!toggleAddress)\r\n}\r\n\r\nconst handleImagetoggle = () => {\r\n  settoggleImage(!toggleImage)\r\n}\r\n\r\n\r\n  return (\r\n    <div>\r\n      {!Loading && user ? \r\n      <div className=\"profile\">\r\n        <div className=\"profile_container\">\r\n        <div className=\"profile_image_wrapper\">\r\n            <img className=\"profile_img\" src={user.pic ? user.pic : \" \"} alt=\"profile\"/>\r\n        </div>\r\n        <div className=\"profile_details\">\r\n          <div>\r\n          Mobile No : {user.phone}\r\n          </div>\r\n          <div>\r\n          Name : {user.firstname} {user.lastname}\r\n          </div>\r\n          {user.address && <div>\r\n            Address : {user.address}\r\n          </div>}\r\n        </div>\r\n        <div className=\"profile_btn_grp\">\r\n        {\r\n        toggleImage ? \r\n        <form className=\"form_uploaddata\" onSubmit={handleSubmit} encType='multipart/form-data'>\r\n            <input \r\n                type=\"file\" \r\n                accept=\".png, .jpg, .jpeg\"\r\n                name=\"photo\"\r\n                style={{marginLeft:\"auto\"}}\r\n                onChange={handlePhoto}\r\n            />\r\n                    <input \r\n                type=\"submit\"\r\n                className=\"profile_btn_toggle\"\r\n            />\r\n            <button className=\"profile_btn_toggle\" onClick={()=>settoggleImage(!toggleImage)}>cancel</button>\r\n        </form>\r\n        :\r\n        <button className=\"profile_btn_toggle\" onClick={handleImagetoggle}>Upload Profile</button>\r\n        }\r\n       {\r\n       toggleAddress?\r\n       <form className=\"form_uploaddata\" onSubmit={handleSubmitAddress}>\r\n            <input \r\n                type=\"text\" \r\n                name=\"address\"\r\n                ref={addressText}\r\n                \r\n            />\r\n                    <input \r\n                type=\"submit\"\r\n                className=\"profile_btn_toggle\"\r\n            />\r\n            <button className=\"profile_btn_toggle\" onClick={()=>settoggleAddress(!toggleAddress)}>cancel</button>\r\n        </form>\r\n        :\r\n            <button className=\"profile_btn_toggle\" onClick={handleAddresstoggle}>{user.address?\"Update Address\":\"Add Address\"}</button>\r\n        }\r\n        </div>\r\n        </div>\r\n        </div>:<Spinner/>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import axios from 'axios';\r\nimport authHeader from './auth.headers';\r\n\r\n// const API_URL = 'https://wingrowagritech.herokuapp.com/';\r\n// const API_URL = \"https://wingrowmarket.onrender.com/\";\r\n//const API_URL = \"http://localhost:4000/\"\r\nconst API_URL = \"https://wingrowmarket.com/\";\r\nconst API_URL1 = \"https://wingrowmarket.com/\";\r\n const getPublicContent = () => {\r\n    return axios.get(API_URL + 'all');\r\n  }\r\n  const getSub = (userId) =>{\r\n    return axios.post(API_URL1 + 'sub1',{userId})\r\n  }\r\n  // const postSub = () =>{\r\n  //   return axios.post(API_URL,'sub',{ headers: authHeader() });\r\n  // }\r\n\r\n  const postSub = (date , userId , stalls , validity ) => {\r\n    return axios.post(API_URL + \"sub\", {\r\n        date,\r\n        userId,\r\n        stalls,\r\n        validity, \r\n      } , { headers: authHeader() });\r\n  }\r\n  const getInOutdata = () => {\r\n    return axios.get(API_URL + 'inwardoutward' , { headers: authHeader() });\r\n  }\r\n\r\n  const getStallsData = () => {\r\n    return axios.get(API_URL + 'stalls', { headers: authHeader() });\r\n  }\r\n\r\n  const getAdminData = () => {\r\n    return axios.get(API_URL + 'admin', { headers: authHeader() });\r\n  }\r\n\r\n  const getFarmers = () => {\r\n    return axios.get(API_URL + 'farmer', { headers: authHeader() });\r\n  }\r\n\r\n  const getAllUsers = () => {\r\n    return axios.get(API_URL + 'allusers', { headers: authHeader() });\r\n  }\r\n\r\n  const getUsers = () => {\r\n    return axios.get(API_URL + 'users', { headers: authHeader() });\r\n  }\r\n  \r\n\r\n\r\nconst UserService = {\r\n    getPublicContent,\r\n    getStallsData,\r\n    getAdminData,\r\n    getInOutdata,\r\n    getFarmers,\r\n    getAllUsers,\r\n    getUsers,\r\n    getSub,\r\n    postSub\r\n  };\r\n  \r\n  export default UserService;\r\n\r\n\r\n","import toPropertyKey from \"./toPropertyKey.js\";\nexport default function _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","import defineProperty from \"./defineProperty.js\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}"],"names":["_useState","useState","_useState2","_slicedToArray","user","setuser","_useState3","_useState4","Loading","setLoading","_useState5","_useState6","toggleImage","settoggleImage","_useState7","_useState8","toggleAddress","settoggleAddress","addressText","useRef","_useState9","photo","_useState10","newPic","setNewPic","useEffect","UserService","then","res","response","data","_jsx","children","className","_jsxs","src","pic","alt","phone","firstname","lastname","address","onSubmit","e","preventDefault","formData","FormData","append","AuthService","console","log","window","location","reload","encType","type","accept","name","style","marginLeft","onChange","_objectSpread","target","files","onClick","current","value","length","ref","Spinner","API_URL","getPublicContent","axios","getStallsData","headers","authHeader","getAdminData","getInOutdata","getFarmers","getAllUsers","getUsers","getSub","userId","API_URL1","postSub","date","stalls","validity","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","i","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties"],"sourceRoot":""}
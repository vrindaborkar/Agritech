"use strict";(self.webpackChunkwingrow=self.webpackChunkwingrow||[]).push([[28],{4028:function(e,a,t){t.r(a),t.d(a,{default:function(){return ge}});var s=t(9439),r=t(2791),n=t(7689),i=t(3433),o=t(4165),l=t(5861),c=(t(3223),t(4387)),d=t(4475),h=t(4925),u=t(6362),m=t(1889),g=t(4569),b=t.n(g),p=t(184),f=function(e){var a=e.data,t=e.handleClick,s=e.bookedStalls,r=e.alreadyBooked,n=e.date,i=e.display;return console.log(i),(0,p.jsx)("div",{className:a.length>18?"Stalls_info":"Stalls_info_xl",children:r&&a.map((function(e,a){var i,o=0!==r.filter((function(a){return a.stallNo===e.stallNo&&a.bookedAt===n})).length,l=e.stallName,c=e._id,d=e.stallPrice,h=s.some((function(e){return e._id===c}));return i=o?"booked":100===d?"hundred":300===d?"three-hundred":500===d?"five-hundred":"available",h&&!o&&(i="selected"),(0,p.jsxs)("div",{style:{cursor:"pointer",className:"display"},className:"single-stall",children:[(0,p.jsx)("img",{className:"stall-img",src:"../../../images/stand.png",alt:"logo"}),(0,p.jsxs)("div",{onClick:t,id:c,children:[l,(0,p.jsx)("br",{}),"Rs.",d]},a),(0,p.jsx)("div",{className:i})]})}))})},x=t(6456),y=t(1087),j=t(6457),v=t(4554),k=t(6151),w=t(1896),S=t(4721),C={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",height:"90%",overflow:"hidden",bgcolor:"background.paper",borderRadius:2,boxShadow:24,p:1.5};function A(e){var a=e.confirmBooking,t=e.setCashOnDelivery,n=r.useState(!1),i=(0,s.Z)(n,2),o=i[0],l=i[1],c=function(){return l(!0)},d=function(){return l(!1)};return(0,p.jsxs)("div",{children:[(0,p.jsx)(m.ZP,{container:!0,alignItems:"center",justifyContent:"center",children:(0,p.jsx)(m.ZP,{item:!0,xs:6,children:(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,p.jsx)(k.Z,{onClick:c,style:{width:"110px",height:"40px",paddingLeft:"5rem",paddingRight:"5rem",margin:"1rem",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:"PAY"}),(0,p.jsx)(k.Z,{onClick:function(){c(),t(!0)},style:{width:"110px",height:"40px",paddingLeft:"5rem",paddingRight:"5rem",margin:"1rem",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:"PAY ON DELIVERY"})]})})}),(0,p.jsx)(w.Z,{open:o,onClose:d,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,p.jsx)(v.Z,{className:"box",sx:C,children:(0,p.jsxs)("div",{className:"terms_and_conditions",children:[(0,p.jsx)("h1",{children:"Terms of service"}),(0,p.jsx)("br",{}),(0,p.jsx)("h2",{children:"WINGROW\u2019S FARMERS MARKET"}),(0,p.jsx)("h3",{class:"city",children:"ROLE OF WINGROW AGRITECH"}),(0,p.jsxs)("p",{children:[(0,p.jsx)("li",{children:"Wingrow only provides a technology platform that connects intending farmers with consumers. We organize farmers markets at various locations. Wingrow doesn\u2019t act as an agent of any outside market in the process of providing the above-mentioned technology platform services."}),(0,p.jsx)("br",{}),(0,p.jsx)("li",{children:"The stall booking voucher which Wingrow issues to a Farmer is solely based on the information provided or updated by the Wingrow\u2019s Farmers Market Organizer regarding the stall availability."}),(0,p.jsx)("br",{}),(0,p.jsx)("li",{children:"The amenities, services, locations, fares, schedule, Farmer Market, stall availability and any other details pertaining to the stall booking service are provided by the Wingrow Agritech."}),(0,p.jsx)("br",{}),(0,p.jsx)("li",{children:"Wingrow Agritech Producer Company Limited is the licensed owner of the brand Stall Booking Platform and the website www.wingrowagritech.com. As a visitor to the Site/ Customer you are advised to please read the Term & Conditions carefully. By accessing the services provided by the Site you agree to the terms provided in this Terms & Conditions document."}),(0,p.jsx)("br",{})]}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"PERSONAL INFORMATION"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"As part of the registration process on the Site, Wingrow Agritech may collect the following personally identifiable information about you: Name including first and last name, alternate email address, mobile phone number and contact details, Postal code, Demographic profile (like your age, gender, occupation, education, address etc.) and information about the pages on the site you visit/access, the links you click on the site, the number of times you access the page and any such browsing information."}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"ACCOUNT & REGISTRATION OBLIGATIONS"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:'All Farmers have to register and login for booking stalls in the Wingrow\u2019s Farmers Markets on the App. You have to keep your account and registration details current and correct for communications related to your bookings from the site. By agreeing to the terms and conditions, the farmers agrees to receive promotional communication and newsletters upon registration. The farmer can opt out either by unsubscribing in "My Account" or by contacting the customer service of Wingrow Agritech.'}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"LICENSE & SITE ACCESS"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"Wingrow Agritech grants you a limited sub-license to access and make personal use of this site and not to download (other than page caching) or modify it, or any portion of it, except with express written consent of Wingrow Agritech. This license does not include any resale or commercial use of this site or its contents; any collection and use of any product listings, descriptions, or prices; any derivative use of this site or its contents; any downloading or copying of account information for the benefit of another merchant; or any use of data mining, robots, or similar data gathering and extraction tools. This site or any portion of this site may not be reproduced, duplicated, copied, sold, resold, visited, or otherwise exploited for any commercial purpose without express written consent of Wingrow Agritech."}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"PRICING "}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"All the stalls listed on the stall booking page will be charges as specified by Wingrow Agritech. The prices mentioned at the time of booking will be the prices charged on the date of the farmers market."}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"RETURN & REFUNDS"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:'We have a "no questions asked return and refund policy" which entitles all our members due to some reason they are not able to come to respective farmers market. In case market get cancelled due to some reason, we will credit booking amount to your account on the Site.'}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"CANCELLATION OF BOOKING"}),(0,p.jsx)("br",{}),(0,p.jsxs)("p",{children:[(0,p.jsx)("li",{children:"Cancellation of bookings can be done either through the User\u2019s login in the Wingrow Agritech\u2019s website or mobile application, or by calling on the customer care number;"}),(0,p.jsx)("br",{}),(0,p.jsx)("li",{children:"Any cancellation is subject to such cancellation charges as mentioned on the booking details."})]}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"PAYMENT FOR BOOKING AND ANY ADDITIONAL CHARGES"}),(0,p.jsx)("br",{}),(0,p.jsx)("h4",{children:"FULL PAYMENT"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"Payment maybe made in full amount to Wingrow Agritech during the Stall booking. Such total booking amount includes the base fare, applicable taxes including GST as may be applicable as per local laws, and any additional booking fee, service fee or convenience fee charged by Wingrow Agritech."}),(0,p.jsx)("br",{}),(0,p.jsx)("h4",{children:"CANCELLATION CHARGES"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"If the Farmer Market is cancelled for any reason what-so-ever, including cases of voluntary cancellation by the User, the cancellation charges as mentioned in the brochure or the itinerary will apply. In the absence of any such information, the following cancellation charges will apply:"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:(0,p.jsxs)("table",{style:{width:"100%"},children:[(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Time period in which the cancellation is made"}),(0,p.jsx)("th",{children:"Charges"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"45 days or more, prior to Farmer\u2019s Market"}),(0,p.jsx)("td",{children:"Booking fees"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Between 44 and 31 days of Farmer\u2019s Market"}),(0,p.jsx)("td",{children:"25% of Booking Cost"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Between 30 and 15 days of Farmer\u2019s Market"}),(0,p.jsx)("td",{children:"50% of Booking Cost"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Between 14 and 8 days of Farmer\u2019s Market"}),(0,p.jsx)("td",{children:"75% of Booking Cost"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Within 7days prior to date of Farmer\u2019s Market, or no-show for any reason what-so-ever"}),(0,p.jsx)("td",{children:"100% of Booking Cost"})]})]})}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"YOU AGREE AND CONFIRM"}),(0,p.jsx)("br",{}),(0,p.jsxs)("p",{children:[(0,p.jsx)("li",{children:"That you will use the services provided by the Site, its affiliates, consultants and contracted companies, for lawful purposes only and comply with all applicable laws and regulations while using and transacting on the Site."}),(0,p.jsx)("br",{}),(0,p.jsx)("li",{children:"You will provide authentic and true information in all instances where such information is requested of you. Wingrow Agritech reserves the right to confirm and validate the information and other details provided by you at any point of time. If upon confirmation your details are found not to be true (wholly or partly), it has the right in its sole discretion to reject the registration and debar you from using the Services and / or other affiliated websites without prior intimation whatsoever."}),(0,p.jsx)("br",{}),(0,p.jsx)("li",{children:"You authorize Wingrow Agritech to contact you for any transactional purposes related to your order/account."}),(0,p.jsx)("br",{}),(0,p.jsx)("li",{children:"That you are accessing the services available on this Site and transacting at your sole risk and are using your best and prudent judgment before entering into any transaction through this Site."})]}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"YOU MAY NOT USE THE SITE FOR ANY OF THE FOLLOWING PURPOSES"}),(0,p.jsx)("br",{}),(0,p.jsxs)("p",{children:[(0,p.jsx)("li",{children:"Disseminating any unlawful, harassing, libelous, abusive, threatening, harmful, vulgar, obscene, or otherwise objectionable material."}),(0,p.jsx)("li",{children:"Transmitting material that encourages conduct that constitutes a criminal offence or results in civil liability or otherwise breaches any relevant laws, regulations or code of practice."}),(0,p.jsx)("li",{children:"Gaining unauthorized access to other computer systems."}),(0,p.jsx)("li",{children:"Interfering with any other person's use or enjoyment of the Site."}),(0,p.jsx)("li",{children:"Breaching any applicable laws."}),(0,p.jsx)("li",{children:"Interfering or disrupting networks or web sites connected to the Site."}),(0,p.jsx)("li",{children:"Making, transmitting or storing electronic copies of materials protected by copyright without the permission of the owner."})]}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"MODIFICATION OF TERMS & CONDITIONS OF SERVICE"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"Wingrow Agritech may at any time modify the Terms & Conditions of Use of the Website without any prior notification to you. You can access the latest version of these Terms & Conditions at any given time on the Site. You should regularly review the Terms & Conditions on the Site. In the event the modified Terms & Conditions is not acceptable to you, you should discontinue using the Service. However, if you continue to use the Service you shall be deemed to have agreed to accept and abide by the modified Terms & Conditions of Use of this Site."}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"COPYRIGHT & TRADEMARK"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"Wingrow Agritech expressly reserve all intellectual property rights in all text, programs, products, processes, technology, content and other materials, which appear on this Site. Access to this Website does not confer and shall not be considered as conferring upon anyone any license under any of Wingrow Agritech or any third party's intellectual property rights. All rights, including copyright, in this website are owned by or licensed to Wingrow Agritech. Any use of this website or its contents, including copying or storing it or them in whole or part, other than for your own personal, non-commercial use is prohibited without the permission of Wingrow Agritech. You may not modify, distribute or re-post anything on this website for any purpose. The names and logos and all related product and service names, design marks and slogans are the trademarks or service marks of Wingrow Agritech its affiliates, its partners or its suppliers. References on this Site to any names, marks, products or services of third parties or hypertext links to third party sites or information are provided solely as a convenience to you and do not in any way constitute or imply Wingrow Agritech endorsement, sponsorship or recommendation of the third party, information, product or service."}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"OBJECTIONABLE MATERIAL"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"You understand that by using this Site or any services provided on the Site, you may encounter Content that may be deemed by some to be offensive, indecent, or objectionable, which Content may or may not be identified as such. You agree to use the Site and any service at your sole risk and that to the fullest extent permitted under applicable law, Wingrow Agritech and its affiliates shall have no liability to you for Content that may be deemed offensive, indecent, or objectionable to you."}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"INDEMNITY "}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"You agree to defend, indemnify and hold harmless Wingrow Agritech, its employees, directors, officers, market organizers and their successors and assigns from and against any and all claims, liabilities, damages, losses, costs and expenses, including attorney's fees, caused by or arising out of claims based upon your actions or inactions, which may result in any loss or liability to Wingrow Agritech or any third party including but not limited to breach of any warranties, representations or undertakings or in relation to the non-fulfilment of any of your obligations under this User Agreement or arising out of the your violation of any applicable laws, regulations including but not limited to Intellectual Property Rights, payment of statutory dues and taxes, claim of libel, defamation, violation of rights of privacy or publicity, loss of service by other subscribers and infringement of intellectual property or other rights. This clause shall survive the expiry or termination of this User Agreement."}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"TERMINATION"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"This User Agreement is effective unless and until terminated by either you or Wingrow Agritech. You may terminate this User Agreement at any time, provided that you discontinue any further use of this Site. Wingrow Agritech may terminate this User Agreement at any time and may do so immediately without notice, and accordingly deny you access to the Site, Such termination will be without any liability to Wingrow Agritech. Upon any termination of the User Agreement by either you or Wingrow Agritech, you must promptly destroy all materials downloaded or otherwise obtained from this Site, as well as all copies of such materials, whether made under the User Agreement or otherwise. Wingrow Agritech's right to any Comments shall survive any termination of this User Agreement. Any such termination of the User Agreement shall not cancel your obligation to pay for the product already ordered from the Website or affect any liability that may have arisen under the User Agreement."}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"RESCHEDULING OF TICKET"}),(0,p.jsx)("br",{}),(0,p.jsxs)("p",{children:[(0,p.jsx)("li",{children:"Rescheduling (i.e. change of date of farmer market) of the tickets can be done through the User\u2019s login in the Wingrow Agritech\u2019s website or mobile application, or by reaching out to the customer support team;"}),(0,p.jsx)("li",{children:"Rescheduling policy for the same shall be available on the e-ticket."}),(0,p.jsx)("li",{children:"Rescheduling a ticket is subject to charges as mentioned on the e-ticket. Fare difference, if applicable, shall be borne by the farmer. However, if the fare of the rescheduled ticket is lower than the current fare, the fare difference shall not be refunded."}),(0,p.jsx)("li",{children:"Rescheduling a ticket can be availed only once per booking, if applicable. Once the farmer\u2019s market date change option is availed, the ticket cannot be further canceled."}),(0,p.jsx)("li",{children:"Tickets are non-transferrable and the originally booked farmers are to allow setup their stalls in respective markets."})]}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"RESPONSIBILITIES OF THE USERS"}),(0,p.jsx)("br",{}),(0,p.jsxs)("p",{children:[(0,p.jsx)("li",{children:"It is mandatory to wear jacket or apron of the Wingrow Agritech."}),(0,p.jsx)("li",{children:"This stall booking is proof of the stall acquisition in respective farmer\u2019s market."}),(0,p.jsx)("li",{children:"This booking is non-transferable and valid for respective farmer market."}),(0,p.jsx)("li",{children:"Ticket for stall booking are not to be duplicated for the purpose of falsifying entry in the farmer\u2019s market."}),(0,p.jsx)("li",{children:"Users are advised to check the booking confirmation SMS or email and re-initiate a booking in case of incorrect details immediately. Any loss, consequences and damages for any delay that may be caused to the User due to this shall be borne by the User."})]}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"MISCELLANEOUS"}),(0,p.jsx)("br",{}),(0,p.jsxs)("p",{children:[(0,p.jsx)("li",{children:"User Agreement and Privacy Policy at Wingrow Agritech website shall apply. Wingrow Agritech will be entitled to reject any claim in case there is any abuse/misuse of the offer by the User or the cancellation/claim is not eligible under the offer."}),(0,p.jsx)("li",{children:"The terms and conditions shall be governed by the laws of India. Any dispute arising out of or in relation to this offer shall be subject to the exclusive jurisdiction of competent courts in Maharashtra."}),(0,p.jsx)("li",{children:"The maximum liability of Wingrow Agritech in the event of any claim arising out of this offer shall not exceed the amount under the underlying transaction paid by the User."}),(0,p.jsx)("li",{children:"Wingrow Agritech shall not be liable to pay for any indirect, punitive, special, incidental or consequential damages arising out of or in connection with the offer."})]}),(0,p.jsx)("br",{}),(0,p.jsx)(S.Z,{className:"divider"}),(0,p.jsx)(k.Z,{className:"tnc_btn",onClick:function(){a(),d()},children:"Confirm Booking"})]})})})]})}var N=t(6525),Z=t(7892),O=t.n(Z),B=t(5206),T=t(7391),P=t(890);t(5462),t(8253);var I=j.Z.getCurrentUser(),E=new Date;console.log(E.getDate()+1);var W=E.getDate()+1,R=E.toISOString().slice(0,10),_=[{location:"Hadapsar"},{location:"Karve Nagar"},{location:"Kharadi"},{location:"Wanawadi"},{location:"Magarpatta"},{location:"Amanora City"},{location:"Bramhasun City"}],D=function(e){var a=e.setbookingDetails,t=(e.setValue,(0,r.useState)("")),g=(0,s.Z)(t,2),j=g[0],w=g[1],C=(0,n.s0)(),Z=(0,r.useState)(),E=(0,s.Z)(Z,2),D=E[0],M=E[1],F=(0,r.useState)(),Y=(0,s.Z)(F,2),L=Y[0],U=Y[1],G=(0,r.useState)(0),H=(0,s.Z)(G,2),K=H[0],q=H[1],z=(0,r.useState)([]),J=(0,s.Z)(z,2),V=J[0],Q=J[1],$=(0,r.useState)(O()(Date.now()).format("YYYY-MM-DD")),X=(0,s.Z)($,2),ee=X[0],ae=X[1],te=(0,r.useState)(),se=(0,s.Z)(te,2),re=se[0],ne=se[1],ie=(0,r.useState)(),oe=(0,s.Z)(ie,2),le=(oe[0],oe[1]),ce=(0,r.useState)(0),de=(0,s.Z)(ce,2),he=de[0],ue=de[1],me=(0,r.useState)(0),ge=(0,s.Z)(me,2),be=ge[0],pe=ge[1],fe=(0,r.useState)(0),xe=(0,s.Z)(fe,2),ye=xe[0],je=xe[1],ve=(0,r.useState)(),ke=(0,s.Z)(ve,2),we=(ke[0],ke[1]),Se=(0,r.useState)(0),Ce=(0,s.Z)(Se,2),Ae=Ce[0],Ne=Ce[1],Ze=(0,n.UO)().Id,Oe=null===L||void 0===L?void 0:L.length,Be=(0,r.useState)(!1),Te=(0,s.Z)(Be,2),Pe=Te[0],Ie=Te[1];(0,r.useEffect)((function(){we(!0),N.Z.getMyStalls().then((function(e){we(!1),M(e.data)})),N.Z.getBookedStalls().then((function(e){console.log(he);var a=e.data&&e.data.filter((function(e){return e.location==="".concat(Ze)&&e.bookedAt===he}));ne(e.data),Ne(a.length),console.log("already booked",re)})),We(!0)}),[]),(0,r.useEffect)((function(){var e=document.createElement("script");return e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,document.body.appendChild(e),function(){document.body.removeChild(e)}}),[]);var Ee=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(t){var s,r,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=V.reduce((function(e,a){return a.stallPrice+e}),0),console.log(V.length),console.log("price",s),0!==V.length){e.next=6;break}return B.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),e.abrupt("return");case 6:V.toString(),r={location:Ze,bookedStalls:V,bookedBy:I.id,bookedAt:O()(Date.now()).format("YYYY-MM-DD"),isBooked:!0},n=[],V.forEach((function(e){n.push(e.stallName)})),"http://localhost:4000/bookedstalls","123",b().post("http://localhost:4000/bookedstalls",r,{headers:(0,x.Z)()}).then((function(e){e.data&&a({farmer:I.firstname+" "+I.lastname,phone:I.phone,paymentDetails:"123",BookedStalls:n,stallsBooked:V.length,totalAmount:s,address:V[0].address}),B.Am.success("stalls booked successfully!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){C("../ticket")}),1e3)})).catch((function(e){B.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),Q([]),q(0)}));case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){var e=D&&D.filter((function(e){return e.location==="".concat(j)}));console.log(e),U(e)}),[j,D,ee]),(0,r.useEffect)((function(){L&&(pe(L.length),console.log(be),je(be-Ae))}),[L,be]);var We=function(){return le(!0)},Re=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(a){var t,s,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pe){e.next=4;break}Ee(),e.next=20;break;case 4:if(t=V.reduce((function(e,a){return a.stallPrice+e}),0),0!==V.length){e.next=8;break}return B.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),e.abrupt("return");case 8:return e.prev=8,"http://localhost:4000/order",e.next=12,b().post("http://localhost:4000/order",{amount:100*t},{headers:(0,x.Z)()});case 12:s=e.sent,r=s.data,_e(r.data),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(a){return e.apply(this,arguments)}}(),_e=function(e){var t=V.toString(),s={key:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.KEY_ID,amount:e.amount,currency:e.currency,order_id:e.id,bookedStalls:t,description:"Wingrow Agritech",handler:function(){var e=(0,l.Z)((0,o.Z)().mark((function e(t){var s,r,n,i,l,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://localhost:4000/verify",e.next=4,b().post("http://localhost:4000/verify",t,{headers:(0,x.Z)()});case 4:s=e.sent,r=s.data,n=r.orderId,console.log("tot"),i={location:j,bookedStalls:V,bookedBy:I.id,bookedAt:O()(ee).format("YYYY-MM-DD"),isBooked:!0},l=[],V.forEach((function(e){console.log(e.stallName),l.push(e.stallName)})),c=V.reduce((function(e,a){return a.stallPrice+e}),0),"http://localhost:4000/bookedstalls",b().post("http://localhost:4000/bookedstalls",i,{headers:(0,x.Z)()}).then((function(e){e.data&&a({farmer:I.firstname+" "+I.lastname,phone:I.phone,paymentDetails:n,BookedStalls:l,stallsBooked:V.length,totalAmount:c}),B.Am.success("stalls booked successfully!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){C("../ticket")}),1e3)})).catch((function(e){B.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),Q([]),q(0)})),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),Q([]),q(0);case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(a){return e.apply(this,arguments)}}(),theme:{color:"#3399cc"}};new window.Razorpay(s).open()},De=function(e){if(console.log("already ",re),console.log("booked ",V),console.log("number of seats ",K),console.log(e.target),K&&"booked"!==e.target.className){var a=parseInt(K,20);if(V.length<=a)if(V.includes(e.target.id)){var t=V.filter((function(a){return a!==e.target.id}));Q(t),je(ye+1)}else if(V.length<K){var s=L.filter((function(a){return a._id===e.target.id}));console.log("here booked"),je(ye-1),Q([].concat((0,i.Z)(V),[s[0]]))}else if(V.length===a){var r=L.filter((function(a){return a._id===e.target.id}));V.shift(),Q([].concat((0,i.Z)(V),[r[0]]))}}};return(0,p.jsxs)("div",{className:"Test",children:[(0,p.jsx)(B.Ix,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,p.jsx)(y.rU,{to:"../",className:"advancebookinglinkback",children:"Go Back to stalls!"}),(0,p.jsxs)("div",{className:"main_container_stalls",children:[(0,p.jsxs)(m.ZP,{className:"input-div-holder",container:!0,spacing:2,children:[(0,p.jsxs)(m.ZP,{item:!0,xs:12,sm:6,children:[(0,p.jsx)(h.Z,{className:"stall-booking-lable",children:"Enter Booking Date"}),(0,p.jsx)(T.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},name:"booking-date",required:!0,fullWidth:!0,type:"date",id:"booking-date",autoFocus:!0,value:he,onChange:function(e){O()(e.target.value).format("YYYY-MM-DD")<=R?(B.Am.warn("Please select a date after today's date",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),ue(R.replace(/.{0,2}$/,"")+W)):ue(O()(e.target.value).format("YYYY-MM-DD"))},color:"success",className:"textfield"}),console.log(he)]}),(0,p.jsx)(m.ZP,{className:"select-market-grid",item:!0,xs:12,sm:6,children:(0,p.jsxs)(u.Z,{className:"formcontrol",sx:{width:"100%",fontSize:14},children:[(0,p.jsx)(h.Z,{color:"success",className:"stall-booking-lable",children:"Market"}),(0,p.jsx)(d.Z,{className:"textfield",id:"demo-simple-select-autowidth",value:j,color:"success",onChange:function(e){w(e.target.value)},label:"address",name:"address",required:!0,children:_.map((function(e,a){return(0,p.jsx)(c.Z,{value:e.location,children:e.location},a)}))})]})}),(0,p.jsxs)(m.ZP,{item:!0,xs:12,sm:6,children:[(0,p.jsx)(h.Z,{className:"stall-booking-lable",children:"Number Of Stall Required"}),(0,p.jsx)(T.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},name:"number-of-stalls-req",required:!0,placeholder:"00",fullWidth:!0,type:"number",id:"number-of-stalls-req",autoFocus:!0,color:"success",className:"textfield",value:ee,onChange:function(e){e.target.value<=-1?(q(0),ae(0)):e.target.value<=ye?(q(e.target.value),ae(e.target.value)):(q(ye),ae(ye))}})]})]}),(0,p.jsxs)("div",{className:"secondary_container_stalls",children:[L&&""!==j?(0,p.jsx)(m.ZP,{className:"stalls-count-cantainer",children:(0,p.jsx)("div",{className:"stall_wrapper",children:(0,p.jsxs)("div",{className:"StallsContainer",children:[(0,p.jsx)(m.ZP,{children:(0,p.jsxs)("div",{className:"stalls-count-div",children:[(0,p.jsxs)(P.Z,{className:"count",children:["Total Stalls :",be]}),(0,p.jsxs)(P.Z,{className:"count",children:["Available Stalls :",ye]})]})}),34===Oe&&(0,p.jsxs)("div",{className:"StallsContainer",children:[console.log(V),(0,p.jsx)(f,{data:L.slice(0,16),handleClick:De,bookedStalls:V,alreadyBooked:re,date:he}),(0,p.jsx)(f,{data:L.slice(16,17),handleClick:De,bookedStalls:V,alreadyBooked:re,date:he}),(0,p.jsx)(f,{data:L.slice(17,18),handleClick:De,bookedStalls:V,alreadyBooked:re,date:he}),(0,p.jsx)(f,{data:L.slice(18,34),handleClick:De,bookedStalls:V,alreadyBooked:re,date:he})]}),50===Oe&&(0,p.jsxs)("div",{className:"StallsContainer",children:[(0,p.jsx)(f,{data:L.slice(0,24),handleClick:De,bookedStalls:V,alreadyBooked:re,date:he}),(0,p.jsx)(f,{data:L.slice(24,25),handleClick:De,bookedStalls:V,alreadyBooked:re,date:he}),(0,p.jsx)(f,{data:L.slice(25,26),handleClick:De,bookedStalls:V,alreadyBooked:re,date:he}),(0,p.jsx)(f,{data:L.slice(26,50),handleClick:De,bookedStalls:V,alreadyBooked:re,date:he})]})]})})}):(0,p.jsx)("div",{className:"select_market",children:(0,p.jsx)("h2",{children:"Please select the market"})}),(0,p.jsxs)(m.ZP,{className:"stall-pricing-grid",children:[(0,p.jsxs)("div",{className:"stall-pricing-main-div",children:[(0,p.jsxs)("div",{className:"price-holder",children:[(0,p.jsx)(v.Z,{sx:{width:20,height:20,backgroundColor:"#AACE48"},className:"stall-color"}),(0,p.jsx)("div",{className:"stall-price",children:"100/-"})]}),(0,p.jsxs)("div",{className:"price-holder",children:[(0,p.jsx)(v.Z,{sx:{width:20,height:20,backgroundColor:"#3AA54B"},className:"stall-color"}),(0,p.jsx)("div",{className:"stall-price",children:"300/-"})]}),(0,p.jsxs)("div",{className:"price-holder",children:[(0,p.jsx)(v.Z,{sx:{width:20,height:20,backgroundColor:"#A42A56"},className:"stall-color"}),(0,p.jsx)("div",{className:"stall-price",children:"500/-"})]}),(0,p.jsxs)("div",{className:"price-holder",children:[(0,p.jsx)(v.Z,{sx:{width:20,height:20,backgroundColor:"#B3B3B3"},className:"stall-color"}),(0,p.jsx)("div",{className:"stall-price",children:"Booked"})]})]}),(0,p.jsx)(S.Z,{className:"divider"}),(0,p.jsxs)("div",{className:"stall-total-amount-holder",children:[(0,p.jsx)("div",{className:"total-amount",children:"Total Amount"}),(0,p.jsxs)("div",{className:"total-amount",children:["Rs.",V.reduce((function(e,a){return a.stallPrice+e}),0),"/-"]})]})]}),0!==K&&0!==V.length?(0,p.jsx)("div",{className:"modalbtn",children:(0,p.jsx)(A,{setCashOnDelivery:Ie,confirmBooking:Re})}):(0,p.jsx)(m.ZP,{container:!0,alignItems:"center",justifyContent:"center",children:(0,p.jsx)(m.ZP,{item:!0,xs:6,children:(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,p.jsx)(k.Z,{style:{width:"110px",height:"40px",paddingLeft:"5rem",paddingRight:"5rem",margin:"1rem",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:"PAY"}),(0,p.jsx)(k.Z,{style:{width:"110px",height:"40px",paddingLeft:"5rem",paddingRight:"5rem",margin:"1rem",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:"PAY ON DELIVERY"})]})})})]})]})]})},M=t(1840),F=function(){var e=(0,r.useState)(),a=(0,s.Z)(e,2),t=a[0],n=a[1],i=(0,r.useState)(),o=(0,s.Z)(i,2),l=o[0],c=o[1];return(0,r.useEffect)((function(){N.Z.getInward().then((function(e){n(e.data)})),N.Z.getOutward().then((function(e){c(e.data)}))}),[]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"inOutData"}),(0,p.jsxs)("div",{className:"farmers_page",children:[(0,p.jsx)(y.rU,{style:{marginTop:"10px"},className:"backbtn green",to:"/farmers",children:"Back"}),t&&l&&(0,p.jsxs)("div",{className:"farmers_data",children:[0!==t.length&&(0,p.jsxs)("div",{className:"inwardData",children:[(0,p.jsx)("h3",{style:{padding:"1rem 0"},children:"Inward Data"}),(0,p.jsx)("div",{className:"farmersdata_container",children:t.map((function(e,a){return(0,p.jsxs)("div",{className:"farmerdata_items",children:[(0,p.jsxs)("p",{children:["Commodity : ",e.commodity]}),(0,p.jsxs)("p",{children:["Market : ",e.market]}),(0,p.jsxs)("p",{children:["Purchase Rate : ",e.purchase_rate]}),(0,p.jsxs)("p",{children:["Purchase Quantity : ",e.purchase_quantity]})]},a)}))})]}),0===t.length&&(0,p.jsxs)("div",{className:"inwardData",children:[(0,p.jsx)("h3",{style:{padding:"1rem 0"},children:"Inward Data"}),(0,p.jsx)("div",{className:"farmersdata_container",children:"No Inward Data available!"})]}),0!==l.length&&(0,p.jsxs)("div",{className:"outwardData",children:[(0,p.jsx)("h3",{style:{padding:"1rem 0"},children:"Outward Data"}),(0,p.jsx)("div",{className:"farmersdata_container",children:l.map((function(e,a){return(0,p.jsxs)("div",{className:"farmerdata_items",children:[(0,p.jsxs)("p",{children:["Commodity : ",e.commodity]}),(0,p.jsxs)("p",{children:["Market : ",e.market]}),(0,p.jsxs)("p",{children:["Sales Rate : ",e.sales_rate]}),(0,p.jsxs)("p",{children:["Sales Quantity : ",e.sales_quantity]})]},a)}))})]}),0===l.length&&(0,p.jsxs)("div",{className:"outwardData",children:[(0,p.jsx)("h3",{style:{padding:"1rem 0"},children:"Outward Data"}),(0,p.jsx)("div",{className:"farmersdata_container",children:"No Outward Data available!"})]})]}),!t&&!l&&(0,p.jsx)(M.Z,{})]})]})},Y=(t(4252),function(){return(0,p.jsx)("div",{style:{postion:"relative"},children:(0,p.jsx)(n.j3,{})})}),L=t(4942),U=t(1413),G=t(4708),H=t(1614),K=t(7107),q=t(7012),z=t(8932),J=[{location:"Hadapsar"},{location:"Karve Nagar"},{location:"Kharadi"},{location:"Wanawadi"},{location:"Magarpatta"},{location:"Amanora City"},{location:"Bramhasun City"}],V=[{label:"Amaranthus"},{label:"Beet Root"},{label:"Chukka- sorrel Leaves"},{label:"Colocasia Leaves"},{label:"Curry Leaves"},{label:"Dill"},{label:"Fenugreek Leaves"},{label:"Green Amaranth"},{label:"Spinach"},{label:"Spring Onion"},{label:"Sufflower"},{label:"Chilli"},{label:" Colocasia Roots"},{label:"Cucumber Madras"},{label:"Kohlrabi"},{label:"Onion White-Pandhara Kanda"},{label:"Pointed Gourd"},{label:"Pumpkin"},{label:"Raw Jackfruit"},{label:"Raw Papaya"},{label:"Sambhar Kanda"},{label:"Snake Gourd"},{label:"Spiny Gourd"},{label:"Sweet Potato"},{label:"Yam"},{label:"Asparagus"},{label:"Avocado"},{label:"Baby Corn"},{label:"Baby Potato"},{label:"Basil"},{label:"Broccoli"},{label:"Celery"},{label:"Cherry Tomato"},{label:"chinese Cabbage"},{label:"Coccinia"},{label:"Green Zucchini"},{label:"Iceberg Lettuce"},{label:"Parsley"},{label:"Red Cabbage"},{label:"Red Capsicum"},{label:"Romaine Lettuce"},{label:"Yellow Capsicum"},{label:"Yellow Zucchini"},{label:"Mushroom"},{label:"Sweet Corn"},{label:"Sweet Corn Grains"},{label:"Cabbage"},{label:"Potato (Agra)"},{label:"Potato (Indore)"},{label:"Potato (Talegav)"},{label:"Beans Double"},{label:"Bitter Gourd"},{label:"Brinjal Big"},{label:"Brinjal Green"},{label:"Brinjal Long Green"},{label:"Brinjal Purple"},{label:"Carrot"},{label:"Cauliflower"},{label:"Chavali Beans"},{label:"Chickpeas - Chana sprouts"},{label:"chilli - Bhavgagari Mirchi"},{label:"Chilli Green"},{label:"chilli Simple"},{label:"Cluster Beans"},{label:"Coconut"},{label:"Colocasia Roots"},{label:"Coriander"},{label:"Cucumber"},{label:"Cucumder Madras"},{label:"Cucumber Madras- Sambar Kakadi"},{label:"Cucumber Polyhouse- English Kakadi"},{label:"Drum Sticks"},{label:"Field Beans"},{label:"Fresh Peeled Green Peas"},{label:"Garlic"},{label:"Ginger"},{label:"Green Capsicum"},{label:"Green Mango"},{label:"Green Peas"},{label:"Groundnut Pods"},{label:"Tamarind"},{label:"Lady Finger"},{label:"Lemon Grass"},{label:"Mint"},{label:"Onion"},{label:"Onion Sambhar"},{label:"Lima Beans"},{label:"Peeled Garlic"},{label:"Potato"},{label:"Radish"},{label:"Ridgegourd"},{label:"Sponge Gourd"},{label:"Tomato"},{label:"Wal"},{label:"Wal Broad"},{label:"Wal surati"},{label:"Water Chestnuts"},{label:"Apple Fuji"},{label:"Apple Green"},{label:"Apple Kinnaur"},{label:"Apple Red Delicious"},{label:"Apple Shimla Big"},{label:"Kiwi"},{label:"Litchi"},{label:"Strawberry"},{label:"Grapes Black"},{label:"Grapes Green"},{label:"Jambhul"},{label:"Mango Badami (For Juice)"},{label:"Mango Devgad Hapus"},{label:"Mango Keshar"},{label:"Mango Lalbag"},{label:"Mango Payri"},{label:"Mango Ratnagiri Hapus"},{label:"Mango Totapuri"},{label:"Muskmelon"},{label:"Watermelon Kiran"},{label:"Watermelon Regular"},{label:"Amla"},{label:"Apple Gourd"},{label:"Ashgourd"},{label:"Banana"},{label:"Custard-apple"},{label:"Elaichi Banana"},{label:"Figs"},{label:"Guava"},{label:"Jackfruit Peeled"},{label:"Jujube - Ber"},{label:"Orange Small"},{label:"Orange Kinnow"},{label:"Papaya"},{label:"Pear Imported"},{label:"Pomogranate"},{label:"Raw Banana"},{label:"Sapodilla"},{label:"Sugarcane"},{label:"Sweet Lime"},{label:"Tender"}],Q=(0,K.Z)();function $(){var e=(0,r.useState)({purchase_quantity:void 0,purchase_rate:void 0,market:""}),a=(0,s.Z)(e,2),t=a[0],n=a[1],i=(0,r.useState)(""),o=(0,s.Z)(i,2),l=o[0],g=o[1],b=function(e){var a=e.target,t=a.name,s=a.value;n((function(e){return(0,U.Z)((0,U.Z)({},e),{},(0,L.Z)({},t,s))}))};return(0,p.jsxs)("div",{className:"data_container",children:[(0,p.jsx)(y.rU,{className:"backbtn green",to:"/farmers",children:"Back"}),(0,p.jsx)(B.Ix,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,p.jsx)(q.Z,{theme:Q,children:(0,p.jsxs)(H.Z,{className:"main",component:"main",maxWidth:"sm",children:[(0,p.jsx)(G.ZP,{}),(0,p.jsxs)(v.Z,{className:"box2",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px 40px 10px 40px",height:"100%",width:"100%"},children:[(0,p.jsx)(P.Z,{component:"h1",variant:"h4",children:"Farmer Inward Data !!"}),(0,p.jsxs)(v.Z,{component:"form",onSubmit:function(e){e.preventDefault();var a=O()(Date.now()).format("YYYY-MM-DDTHH:mm:ss");l&&t.purchase_quantity&&t.purchase_rate&&t.market&&a?N.Z.postInward(l,t.purchase_quantity,t.purchase_rate,t.market,a).then((function(){B.Am.success("Inward data has been added successfully!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){window.location.reload()}),2e3)}),(function(e){B.Am.warn("Failed to add data!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),n({market:"",purchase_rate:0,purchase_quantity:0}),g("")})):B.Am.warn("Invalid Data!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},sx:{padding:2},children:[(0,p.jsxs)(m.ZP,{container:!0,spacing:1,children:[(0,p.jsx)(m.ZP,{item:!0,xs:12,children:(0,p.jsxs)(u.Z,{sx:{width:"100%"},children:[(0,p.jsx)(P.Z,{className:"stall-booking-lable",children:"Select Market"}),(0,p.jsx)(d.Z,{className:"textfield select-market",labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:t.market,onChange:b,name:"market",required:!0,color:"success",children:J.map((function(e,a){return(0,p.jsx)(c.Z,{value:e.location,children:e.location},a)}))})]})}),(0,p.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,p.jsx)(h.Z,{className:"stall-booking-lable",children:"Select One Commodity"}),(0,p.jsx)(z.Z,{className:"textfield",isOptionEqualToValue:function(e,a){return e.value===a.value},disablePortal:!0,id:"combo-box-demo",onChange:function(e,a){return g(null===a||void 0===a?void 0:a.label)},options:V,sx:{width:"100%"},renderInput:function(e){return(0,p.jsx)(T.Z,(0,U.Z)({color:"success",className:"textfield",name:"commodity"},e))}})]}),(0,p.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,p.jsxs)(h.Z,{className:"stall-booking-lable",children:["Purchase Quantity (kg)",(0,p.jsx)("sup",{children:"*"})]}),(0,p.jsx)(T.Z,{className:"textfield",required:!0,fullWidth:!0,color:"success",name:"purchase_quantity",value:t.purchase_quantity,onChange:b,type:"number",id:"purchase quantity",autoComplete:"new-purchase quantity"})]}),(0,p.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,p.jsxs)(h.Z,{className:"stall-booking-lable",children:["Purchase Rate (Rs/kg)",(0,p.jsx)("sup",{children:"*"})]}),(0,p.jsx)(T.Z,{className:"textfield",required:!0,fullWidth:!0,color:"success",name:"purchase_rate",value:t.purchase_rate,onChange:b,type:"number",id:"purchase rate",autoComplete:"new-purchase rate"})]})]}),(0,p.jsx)(m.ZP,{children:(0,p.jsx)(k.Z,{className:"btn",type:"submit",variant:"contained",sx:{m:2},children:"Add"})})]})]})]})})]})}var X={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",height:"80%",overflow:"auto",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function ee(e){var a=e.Delete,t=e.id,n=r.useState(!1),i=(0,s.Z)(n,2),o=i[0],l=i[1],c=function(){return l(!1)};return(0,p.jsxs)("div",{style:{textAlign:"center",backgroundColor:"white",marginTop:"10px"},children:[(0,p.jsx)(k.Z,{onClick:function(){return l(!0)},children:"Cancel Booking"}),(0,p.jsx)(w.Z,{open:o,onClose:c,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,p.jsx)(v.Z,{sx:X,children:(0,p.jsxs)("div",{className:"terms_and_conditions",children:[(0,p.jsx)("h1",{children:"Terms of service"}),(0,p.jsx)("br",{}),(0,p.jsx)("h2",{children:"WINGROW\u2019S FARMERS MARKET"}),(0,p.jsx)("h3",{class:"city",children:"ROLE OF WINGROW AGRITECH"}),(0,p.jsxs)("p",{children:[(0,p.jsx)("li",{children:"Wingrow only provides a technology platform that connects intending farmers with consumers. We organize farmers markets at various locations. Wingrow doesn\u2019t act as an agent of any outside market in the process of providing the above-mentioned technology platform services."}),(0,p.jsx)("br",{}),(0,p.jsx)("li",{children:"The stall booking voucher which Wingrow issues to a Farmer is solely based on the information provided or updated by the Wingrow\u2019s Farmers Market Organizer regarding the stall availability."}),(0,p.jsx)("br",{}),(0,p.jsx)("li",{children:"The amenities, services, locations, fares, schedule, Farmer Market, stall availability and any other details pertaining to the stall booking service are provided by the Wingrow Agritech."}),(0,p.jsx)("br",{}),(0,p.jsx)("li",{children:"Wingrow Agritech Producer Company Limited is the licensed owner of the brand Stall Booking Platform and the website www.wingrowagritech.com. As a visitor to the Site/ Customer you are advised to please read the Term & Conditions carefully. By accessing the services provided by the Site you agree to the terms provided in this Terms & Conditions document."}),(0,p.jsx)("br",{})]}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"PERSONAL INFORMATION"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"As part of the registration process on the Site, Wingrow Agritech may collect the following personally identifiable information about you: Name including first and last name, alternate email address, mobile phone number and contact details, Postal code, Demographic profile (like your age, gender, occupation, education, address etc.) and information about the pages on the site you visit/access, the links you click on the site, the number of times you access the page and any such browsing information."}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"ACCOUNT & REGISTRATION OBLIGATIONS"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:'All Farmers have to register and login for booking stalls in the Wingrow\u2019s Farmers Markets on the App. You have to keep your account and registration details current and correct for communications related to your bookings from the site. By agreeing to the terms and conditions, the farmers agrees to receive promotional communication and newsletters upon registration. The farmer can opt out either by unsubscribing in "My Account" or by contacting the customer service of Wingrow Agritech.'}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"LICENSE & SITE ACCESS"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"Wingrow Agritech grants you a limited sub-license to access and make personal use of this site and not to download (other than page caching) or modify it, or any portion of it, except with express written consent of Wingrow Agritech. This license does not include any resale or commercial use of this site or its contents; any collection and use of any product listings, descriptions, or prices; any derivative use of this site or its contents; any downloading or copying of account information for the benefit of another merchant; or any use of data mining, robots, or similar data gathering and extraction tools. This site or any portion of this site may not be reproduced, duplicated, copied, sold, resold, visited, or otherwise exploited for any commercial purpose without express written consent of Wingrow Agritech."}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"PRICING "}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"All the stalls listed on the stall booking page will be charges as specified by Wingrow Agritech. The prices mentioned at the time of booking will be the prices charged on the date of the farmers market."}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"RETURN & REFUNDS"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:'We have a "no questions asked return and refund policy" which entitles all our members due to some reason they are not able to come to respective farmers market. In case market get cancelled due to some reason, we will credit booking amount to your account on the Site.'}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"CANCELLATION OF BOOKING"}),(0,p.jsx)("br",{}),(0,p.jsxs)("p",{children:[(0,p.jsx)("li",{children:"Cancellation of bookings can be done either through the User\u2019s login in the Wingrow Agritech\u2019s website or mobile application, or by calling on the customer care number;"}),(0,p.jsx)("br",{}),(0,p.jsx)("li",{children:"Any cancellation is subject to such cancellation charges as mentioned on the booking details."})]}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"PAYMENT FOR BOOKING AND ANY ADDITIONAL CHARGES"}),(0,p.jsx)("br",{}),(0,p.jsx)("h4",{children:"FULL PAYMENT"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"Payment maybe made in full amount to Wingrow Agritech during the Stall booking. Such total booking amount includes the base fare, applicable taxes including GST as may be applicable as per local laws, and any additional booking fee, service fee or convenience fee charged by Wingrow Agritech."}),(0,p.jsx)("br",{}),(0,p.jsx)("h4",{children:"CANCELLATION CHARGES"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"If the Farmer Market is cancelled for any reason what-so-ever, including cases of voluntary cancellation by the User, the cancellation charges as mentioned in the brochure or the itinerary will apply. In the absence of any such information, the following cancellation charges will apply:"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:(0,p.jsxs)("table",{style:{width:"100%"},children:[(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:"Time period in which the cancellation is made"}),(0,p.jsx)("th",{children:"Charges"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"45 days or more, prior to Farmer\u2019s Market"}),(0,p.jsx)("td",{children:"Booking fees"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Between 44 and 31 days of Farmer\u2019s Market"}),(0,p.jsx)("td",{children:"25% of Booking Cost"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Between 30 and 15 days of Farmer\u2019s Market"}),(0,p.jsx)("td",{children:"50% of  Booking Cost"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Between 14 and 8 days of Farmer\u2019s Market"}),(0,p.jsx)("td",{children:"75% of  Booking Cost"})]}),(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{children:"Within 7days prior to date of Farmer\u2019s Market, or no-show for any reason what-so-ever"}),(0,p.jsx)("td",{children:"100% of  Booking Cost"})]})]})}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"YOU AGREE AND CONFIRM"}),(0,p.jsx)("br",{}),(0,p.jsxs)("p",{children:[(0,p.jsx)("li",{children:"That you will use the services provided by the Site, its affiliates, consultants and contracted companies, for lawful purposes only and comply with all applicable laws and regulations while using and transacting on the Site."}),(0,p.jsx)("br",{}),(0,p.jsx)("li",{children:"You will provide authentic and true information in all instances where such information is requested of you. Wingrow Agritech reserves the right to confirm and validate the information and other details provided by you at any point of time. If upon confirmation your details are found not to be true (wholly or partly), it has the right in its sole discretion to reject the registration and debar you from using the Services and / or other affiliated websites without prior intimation whatsoever."}),(0,p.jsx)("br",{}),(0,p.jsx)("li",{children:"You authorize Wingrow Agritech to contact you for any transactional purposes related to your order/account."}),(0,p.jsx)("br",{}),(0,p.jsx)("li",{children:"That you are accessing the services available on this Site and transacting at your sole risk and are using your best and prudent judgment before entering into any transaction through this Site."})]}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"YOU MAY NOT USE THE SITE FOR ANY OF THE FOLLOWING PURPOSES"}),(0,p.jsx)("br",{}),(0,p.jsxs)("p",{children:[(0,p.jsx)("li",{children:"Disseminating any unlawful, harassing, libelous, abusive, threatening, harmful, vulgar, obscene, or otherwise objectionable material."}),(0,p.jsx)("li",{children:"Transmitting material that encourages conduct that constitutes a criminal offence or results in civil liability or otherwise breaches any relevant laws, regulations or code of practice."}),(0,p.jsx)("li",{children:"Gaining unauthorized access to other computer systems."}),(0,p.jsx)("li",{children:"Interfering with any other person's use or enjoyment of the Site."}),(0,p.jsx)("li",{children:"Breaching any applicable laws."}),(0,p.jsx)("li",{children:"Interfering or disrupting networks or web sites connected to the Site."}),(0,p.jsx)("li",{children:"Making, transmitting or storing electronic copies of materials protected by copyright without the permission of the owner."})]}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"MODIFICATION OF TERMS & CONDITIONS OF SERVICE"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"Wingrow Agritech may at any time modify the Terms & Conditions of Use of the Website without any prior notification to you. You can access the latest version of these Terms & Conditions at any given time on the Site. You should regularly review the Terms & Conditions on the Site. In the event the modified Terms & Conditions is not acceptable to you, you should discontinue using the Service. However, if you continue to use the Service you shall be deemed to have agreed to accept and abide by the modified Terms & Conditions of Use of this Site."}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"COPYRIGHT & TRADEMARK"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"Wingrow Agritech expressly reserve all intellectual property rights in all text, programs, products, processes, technology, content and other materials, which appear on this Site. Access to this Website does not confer and shall not be considered as conferring upon anyone any license under any of Wingrow Agritech or any third party's intellectual property rights. All rights, including copyright, in this website are owned by or licensed to Wingrow Agritech. Any use of this website or its contents, including copying or storing it or them in whole or part, other than for your own personal, non-commercial use is prohibited without the permission of Wingrow Agritech. You may not modify, distribute or re-post anything on this website for any purpose. The names and logos and all related product and service names, design marks and slogans are the trademarks or service marks of Wingrow Agritech its affiliates, its partners or its suppliers. References on this Site to any names, marks, products or services of third parties or hypertext links to third party sites or information are provided solely as a convenience to you and do not in any way constitute or imply Wingrow Agritech endorsement, sponsorship or recommendation of the third party, information, product or service."}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"OBJECTIONABLE MATERIAL"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"You understand that by using this Site or any services provided on the Site, you may encounter Content that may be deemed by some to be offensive, indecent, or objectionable, which Content may or may not be identified as such. You agree to use the Site and any service at your sole risk and that to the fullest extent permitted under applicable law, Wingrow Agritech and its affiliates shall have no liability to you for Content that may be deemed offensive, indecent, or objectionable to you."}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"INDEMNITY "}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"You agree to defend, indemnify and hold harmless Wingrow Agritech, its employees, directors, officers, market organizers and their successors and assigns from and against any and all claims, liabilities, damages, losses, costs and expenses, including attorney's fees, caused by or arising out of claims based upon your actions or inactions, which may result in any loss or liability to Wingrow Agritech or any third party including but not limited to breach of any warranties, representations or undertakings or in relation to the non-fulfilment of any of your obligations under this User Agreement or arising out of the your violation of any applicable laws, regulations including but not limited to Intellectual Property Rights, payment of statutory dues and taxes, claim of libel, defamation, violation of rights of privacy or publicity, loss of service by other subscribers and infringement of intellectual property or other rights. This clause shall survive the expiry or termination of this User Agreement."}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"TERMINATION"}),(0,p.jsx)("br",{}),(0,p.jsx)("p",{children:"This User Agreement is effective unless and until terminated by either you or Wingrow Agritech. You may terminate this User Agreement at any time, provided that you discontinue any further use of this Site. Wingrow Agritech may terminate this User Agreement at any time and may do so immediately without notice, and accordingly deny you access to the Site, Such termination will be without any liability to Wingrow Agritech. Upon any termination of the User Agreement by either you or Wingrow Agritech, you must promptly destroy all materials downloaded or otherwise obtained from this Site, as well as all copies of such materials, whether made under the User Agreement or otherwise. Wingrow Agritech's right to any Comments shall survive any termination of this User Agreement. Any such termination of the User Agreement shall not cancel your obligation to pay for the product already ordered from the Website or affect any liability that may have arisen under the User Agreement."}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"RESCHEDULING OF TICKET"}),(0,p.jsx)("br",{}),(0,p.jsxs)("p",{children:[(0,p.jsx)("li",{children:"Rescheduling (i.e. change of date of farmer market) of the tickets can be done through the User\u2019s login in the Wingrow Agritech\u2019s website or mobile application, or by reaching out to the customer support team;"}),(0,p.jsx)("li",{children:"Rescheduling policy for the same shall be available on the e-ticket."}),(0,p.jsx)("li",{children:"Rescheduling a ticket is subject to charges as mentioned on the e-ticket. Fare difference, if applicable, shall be borne by the farmer. However, if the fare of the rescheduled ticket is lower than the current fare, the fare difference shall not be refunded."}),(0,p.jsx)("li",{children:"Rescheduling a ticket can be availed only once per booking, if applicable. Once the farmer\u2019s market date change option is availed, the ticket cannot be further canceled."}),(0,p.jsx)("li",{children:"Tickets are non-transferrable and the originally booked farmers are to allow setup their stalls in respective markets."})]}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"RESPONSIBILITIES OF THE USERS"}),(0,p.jsx)("br",{}),(0,p.jsxs)("p",{children:[(0,p.jsx)("li",{children:"It is mandatory to wear jacket or apron of the Wingrow Agritech."}),(0,p.jsx)("li",{children:"This stall booking is proof of the stall acquisition in respective farmer\u2019s market."}),(0,p.jsx)("li",{children:"This booking is non-transferable and valid for respective farmer market."}),(0,p.jsx)("li",{children:"Ticket for stall booking are not to be duplicated for the purpose of falsifying entry in the farmer\u2019s market."}),(0,p.jsx)("li",{children:"Users are advised to check the booking confirmation SMS or email and re-initiate a booking in case of incorrect details immediately. Any loss, consequences and damages for any delay that may be caused to the User due to this shall be borne by the User."})]}),(0,p.jsx)("br",{}),(0,p.jsx)("h3",{class:"city",children:"MISCELLANEOUS"}),(0,p.jsx)("br",{}),(0,p.jsxs)("p",{children:[(0,p.jsx)("li",{children:"User Agreement and Privacy Policy at Wingrow Agritech website shall apply. Wingrow Agritech will be entitled to reject any claim in case there is any abuse/misuse of the offer by the User or the cancellation/claim is not eligible under the offer."}),(0,p.jsx)("li",{children:"The terms and conditions shall be governed by the laws of India. Any dispute arising out of or in relation to this offer shall be subject to the exclusive jurisdiction of competent courts in Maharashtra."}),(0,p.jsx)("li",{children:"The maximum liability of Wingrow Agritech in the event of any claim arising out of this offer shall not exceed the amount under the underlying transaction paid by the User."}),(0,p.jsx)("li",{children:"Wingrow Agritech shall not be liable to pay for any indirect, punitive, special, incidental or consequential damages arising out of or in connection with the offer."})]}),(0,p.jsx)("br",{}),(0,p.jsx)(k.Z,{id:t,onClick:function(e){a(e),c()},children:"Confirm Delete?"})]})})})]})}var ae=function(){var e=j.Z.getCurrentUser(),a=(0,r.useState)(),t=(0,s.Z)(a,2),n=t[0],i=t[1];(0,r.useEffect)((function(){N.Z.getBookedStalls().then((function(a){var t=a.data;i(t.filter((function(a){return a.bookedBy===e.id})))}))}),[e]);var o=function(a){var t=a.target.id,r=n.filter((function(e){return e._id===t})),o=(0,s.Z)(r,1)[0];o.cancelledAt=O()(Date.now()).format("YYYY-MM-DD"),o.bookedBy=e.id,o.firstname=e.firstname,o.lastname=e.lastname,o.phone=e.phone,console.log("data - ",o),b().post("http://localhost:4000/cancelledstalls",o,{headers:(0,x.Z)()}),b().delete("http://localhost:4000/bookedstalls",{headers:(0,x.Z)(),data:{id:t}}).then((function(e){if(e){var a=e.data,t=n.filter((function(e){return e._id!==a._id}));i(t),B.Am.success("Cancelled successfully!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}else B.Am.warn("Failed to cancel booking!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}))};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(y.rU,{style:{marginTop:"10px"},className:"backbtn green",to:"/farmers",children:"Back"}),n?(0,p.jsxs)("div",{className:"bookings_container",children:[(0,p.jsx)(B.Ix,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,p.jsxs)("div",{className:"booking_content",children:[(0,p.jsxs)("div",{className:"booking_cards",children:[(0,p.jsx)("h1",{className:"booking_header",children:"Stall Bookings"}),(0,p.jsx)("p",{className:"booking_para",children:"List of booked stalls"})]}),(0,p.jsx)("div",{className:"card_booking",children:n.map((function(e,a){var t=e.bookedAt<O()(Date.now()).format("YYYY-MM-DD");return(0,p.jsx)("div",{className:"cards_section",children:(0,p.jsx)("div",{className:"card",children:(0,p.jsxs)("div",{className:"card_content",children:[t&&(0,p.jsx)("h2",{style:{color:"red",textAlign:"center"},children:"Booking Expired"}),(0,p.jsx)("br",{}),(0,p.jsx)("h2",{className:"card_header",children:(0,p.jsxs)("span",{children:["Stall No : ",a+1]})}),(0,p.jsx)("p",{className:"card_para",children:e.location}),(0,p.jsx)("p",{className:"card_para",children:e.address}),(0,p.jsx)("p",{className:"card_para",children:e.stallName}),(0,p.jsx)("p",{className:"card_para",children:e.bookedAt}),(0,p.jsx)("span",{children:t?(0,p.jsx)("div",{style:{cursor:"not-allowed",padding:"4px",backgroundColor:"gray",border:"none",marginTop:"10px",textAlign:"center"},children:"Booking Expired"}):(0,p.jsx)("span",{children:(0,p.jsx)(ee,{Delete:o,id:e._id})})})]})})},a)}))})]})]}):(0,p.jsx)(M.Z,{})]})},te=[{location:"Hadapsar"},{location:"Karve Nagar"},{location:"Kharadi"},{location:"Wanawadi"},{location:"Magarpatta"},{location:"Amanora City"},{location:"Bramhasun City"}],se=[{label:"Amaranthus"},{label:"Beet Root"},{label:"Chukka- sorrel Leaves"},{label:"Colocasia Leaves"},{label:"Curry Leaves"},{label:"Dill"},{label:"Fenugreek Leaves"},{label:"Green Amaranth"},{label:"Spinach"},{label:"Spring Onion"},{label:"Sufflower"},{label:"Chilli"},{label:" Colocasia Roots"},{label:"Cucumber Madras"},{label:"Kohlrabi"},{label:"Onion White-Pandhara Kanda"},{label:"Pointed Gourd"},{label:"Pumpkin"},{label:"Raw Jackfruit"},{label:"Raw Papaya"},{label:"Sambhar Kanda"},{label:"Snake Gourd"},{label:"Spiny Gourd"},{label:"Sweet Potato"},{label:"Yam"},{label:"Asparagus"},{label:"Avocado"},{label:"Baby Corn"},{label:"Baby Potato"},{label:"Basil"},{label:"Broccoli"},{label:"Celery"},{label:"Cherry Tomato"},{label:"chinese Cabbage"},{label:"Coccinia"},{label:"Green Zucchini"},{label:"Iceberg Lettuce"},{label:"Parsley"},{label:"Red Cabbage"},{label:"Red Capsicum"},{label:"Romaine Lettuce"},{label:"Yellow Capsicum"},{label:"Yellow Zucchini"},{label:"Mushroom"},{label:"Sweet Corn"},{label:"Sweet Corn Grains"},{label:"Cabbage"},{label:"Potato (Agra)"},{label:"Potato (Indore)"},{label:"Potato (Talegav)"},{label:"Beans Double"},{label:"Bitter Gourd"},{label:"Brinjal Big"},{label:"Brinjal Green"},{label:"Brinjal Long Green"},{label:"Brinjal Purple"},{label:"Carrot"},{label:"Cauliflower"},{label:"Chavali Beans"},{label:"Chickpeas - Chana sprouts"},{label:"chilli - Bhavgagari Mirchi"},{label:"Chilli Green"},{label:"chilli Simple"},{label:"Cluster Beans"},{label:"Coconut"},{label:"Colocasia Roots"},{label:"Coriander"},{label:"Cucumber"},{label:"Cucumder Madras"},{label:"Cucumber Madras- Sambar Kakadi"},{label:"Cucumber Polyhouse- English Kakadi"},{label:"Drum Sticks"},{label:"Field Beans"},{label:"Fresh Peeled Green Peas"},{label:"Garlic"},{label:"Ginger"},{label:"Green Capsicum"},{label:"Green Mango"},{label:"Green Peas"},{label:"Groundnut Pods"},{label:"Tamarind"},{label:"Lady Finger"},{label:"Lemon Grass"},{label:"Mint"},{label:"Onion"},{label:"Onion Sambhar"},{label:"Lima Beans"},{label:"Peeled Garlic"},{label:"Potato"},{label:"Radish"},{label:"Ridgegourd"},{label:"Sponge Gourd"},{label:"Tomato"},{label:"Wal"},{label:"Wal Broad"},{label:"Wal surati"},{label:"Water Chestnuts"},{label:"Apple Fuji"},{label:"Apple Green"},{label:"Apple Kinnaur"},{label:"Apple Red Delicious"},{label:"Apple Shimla Big"},{label:"Kiwi"},{label:"Litchi"},{label:"Strawberry"},{label:"Grapes Black"},{label:"Grapes Green"},{label:"Jambhul"},{label:"Mango Badami (For Juice)"},{label:"Mango Devgad Hapus"},{label:"Mango Keshar"},{label:"Mango Lalbag"},{label:"Mango Payri"},{label:"Mango Ratnagiri Hapus"},{label:"Mango Totapuri"},{label:"Muskmelon"},{label:"Watermelon Kiran"},{label:"Watermelon Regular"},{label:"Amla"},{label:"Apple Gourd"},{label:"Ashgourd"},{label:"Banana"},{label:"Custard-apple"},{label:"Elaichi Banana"},{label:"Figs"},{label:"Guava"},{label:"Jackfruit Peeled"},{label:"Jujube - Ber"},{label:"Orange Small"},{label:"Orange Kinnow"},{label:"Papaya"},{label:"Pear Imported"},{label:"Pomogranate"},{label:"Raw Banana"},{label:"Sapodilla"},{label:"Sugarcane"},{label:"Sweet Lime"},{label:"Tender"}],re=(0,K.Z)();function ne(){var e=(0,r.useState)({sales_quantity:void 0,sales_rate:void 0,market:""}),a=(0,s.Z)(e,2),t=a[0],n=a[1],i=(0,r.useState)(""),o=(0,s.Z)(i,2),l=o[0],g=o[1],b=function(e){var a=e.target,t=a.name,s=a.value;n((function(e){return(0,U.Z)((0,U.Z)({},e),{},(0,L.Z)({},t,s))}))};return(0,p.jsxs)("div",{className:"data_container",children:[(0,p.jsx)(y.rU,{className:"backbtn green",to:"/farmers",sx:{m:2},style:{marginTop:NaN,marginLeft:"10px"},children:"Back"}),(0,p.jsx)(B.Ix,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,p.jsx)(q.Z,{theme:re,children:(0,p.jsxs)(H.Z,{className:"main",component:"main",maxWidth:"sm",children:[(0,p.jsx)(G.ZP,{}),(0,p.jsxs)(v.Z,{className:"box2",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px 40px 10px 40px",height:"100%",width:"100%"},children:[(0,p.jsx)(P.Z,{component:"h1",variant:"h4",children:"Farmer Outward Data!!"}),(0,p.jsxs)(v.Z,{component:"form",onSubmit:function(e){e.preventDefault();var a=O()(Date.now()).format("YYYY-MM-DDTHH:mm:ss");l&&t.sales_quantity&&t.sales_rate&&t.market&&a?N.Z.postOutward(l,t.sales_quantity,t.sales_rate,t.market,a).then((function(){B.Am.success("Outward data has been added successfully!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){window.location.reload()}),2e3)}),(function(e){B.Am.warn("Failed to add data!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),n({market:"",sales_rate:0,sales_quantity:0}),g("")})):B.Am.warn("Invalid data!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},sx:{padding:2},children:[(0,p.jsxs)(m.ZP,{container:!0,spacing:1,children:[(0,p.jsx)(m.ZP,{item:!0,xs:12,children:(0,p.jsxs)(u.Z,{sx:{width:"100%"},children:[(0,p.jsx)(P.Z,{className:"stall-booking-lable",children:"Select Market"}),(0,p.jsx)(d.Z,{className:"textfield select-market",labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:t.market,onChange:b,name:"market",required:!0,color:"success",children:te.map((function(e,a){return(0,p.jsx)(c.Z,{value:e.location,children:e.location},a)}))})]})}),(0,p.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,p.jsx)(h.Z,{className:"stall-booking-lable",children:"Select One Commodity"}),(0,p.jsx)(z.Z,{className:"textfield",isOptionEqualToValue:function(e,a){return e.value===a.value},disablePortal:!0,id:"combo-box-demo",onChange:function(e,a){return g(null===a||void 0===a?void 0:a.label)},options:se,sx:{width:"100%"},renderInput:function(e){return(0,p.jsx)(T.Z,(0,U.Z)({color:"success",className:"textfield",name:"commodity"},e))}})]}),(0,p.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,p.jsxs)(h.Z,{className:"stall-booking-lable",children:["Sales Quantity (kg)",(0,p.jsx)("sup",{children:"*"})]}),(0,p.jsx)(T.Z,{className:"textfield",required:!0,fullWidth:!0,color:"success",name:"sales_quantity",value:t.sales_quantity,onChange:b,type:"number",id:"sales quantity",autoComplete:"new-sales quantity"})]}),(0,p.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,p.jsxs)(h.Z,{className:"stall-booking-lable",children:["Sales Rate (Rs/kg)",(0,p.jsx)("sup",{children:"*"})]}),(0,p.jsx)(T.Z,{className:"textfield",required:!0,fullWidth:!0,color:"success",name:"sales_rate",value:t.sales_rate,onChange:b,type:"number",id:"sales rate",autoComplete:"new-sales rate"})]})]}),(0,p.jsx)(m.ZP,{children:(0,p.jsx)(k.Z,{className:"btn",type:"submit",variant:"contained",sx:{m:2},children:"Add"})})]})]})]})})]})}var ie=t(7762),oe=function(){var e=(0,r.useState)(),a=(0,s.Z)(e,2),t=a[0],i=a[1],o=new Set,l=[],c=(0,n.s0)();if(t){var d,h=(0,ie.Z)(t);try{for(h.s();!(d=h.n()).done;){var u=d.value;o.add(u.location)}}catch(x){h.e(x)}finally{h.f()}}var m,g=(0,ie.Z)(o);try{for(g.s();!(m=g.n()).done;){var b=m.value;l.push(b)}}catch(x){g.e(x)}finally{g.f()}(0,r.useEffect)((function(){N.Z.getMyStalls().then((function(e){return i(e.data)}))}),[]);var f=function(e){var a=e.target.id;c("stalls/".concat(a))};return(0,p.jsxs)(p.Fragment,{children:[t&&(0,p.jsxs)("div",{className:"places_market_container",children:[(0,p.jsx)(y.rU,{style:{marginTop:"10px"},className:"backbtn green",to:"/farmers",children:"Back"}),(0,p.jsx)("h2",{className:"main_header_places",children:"Select Market From Below.."}),(0,p.jsx)("div",{className:"places_wrapper",children:l&&l.map((function(e,a){return(0,p.jsxs)("div",{onClick:f,id:e,className:"places_market_component".concat(a%4),children:[(0,p.jsx)("img",{id:e,alt:"logo",className:"image_1",src:"../images/4.webp"}),(0,p.jsx)("div",{id:e,children:(0,p.jsxs)("span",{id:e,className:"places_headers",children:["Markets in ",(0,p.jsx)("br",{}),e]})})]},e)}))})]}),!t&&(0,p.jsx)(M.Z,{})]})},le=j.Z.getCurrentUser();var ce=function(e){var a=e.setbookingDetails,t=(e.setValue,(0,n.s0)()),c=(0,r.useState)(),d=(0,s.Z)(c,2),u=d[0],g=d[1],j=(0,r.useState)(),w=(0,s.Z)(j,2),C=w[0],Z=w[1],O=(0,r.useState)(0),I=(0,s.Z)(O,2),E=I[0],W=I[1],R=(0,r.useState)([]),_=(0,s.Z)(R,2),D=_[0],F=_[1],Y=(0,r.useState)(),L=(0,s.Z)(Y,2),U=L[0],G=L[1],H=(0,n.UO)().Id,K=(0,r.useState)(0),q=(0,s.Z)(K,2),z=q[0],J=q[1],V=(0,r.useState)(),Q=(0,s.Z)(V,2),$=Q[0],X=Q[1],ee=(0,r.useState)(0),ae=(0,s.Z)(ee,2),te=ae[0],se=ae[1],re=(0,r.useState)(),ne=(0,s.Z)(re,2),ie=(ne[0],ne[1]),oe=(0,r.useState)(!1),ce=(0,s.Z)(oe,2),de=ce[0],he=ce[1],ue=(0,r.useState)(0),me=(0,s.Z)(ue,2),ge=me[0],be=me[1],pe=(0,r.useState)(0),fe=(0,s.Z)(pe,2),xe=fe[0],ye=fe[1],je=(new Date).toISOString().slice(0,10),ve=(0,r.useState)(0),ke=(0,s.Z)(ve,2),we=ke[0],Se=ke[1],Ce=(0,r.useState)(""),Ae=(0,s.Z)(Ce,2),Ne=Ae[0],Ze=Ae[1],Oe=(0,r.useState)(""),Be=(0,s.Z)(Oe,2),Te=Be[0],Pe=Be[1],Ie={Hadapsar:3,Kharadi:4,"Karve Nagar":4,"Bramhasun City":5,wanawadi:6,Magarpatta:0,"Amanora City":0},Ee=(0,r.useState)(!1),We=(0,s.Z)(Ee,2),Re=We[0],_e=We[1];(0,r.useEffect)((function(){var e=window.matchMedia("(max-width: 767px)");_e(e.matches);var a=function(){return _e(e.matches)};return e.addListener(a),function(){e.removeListener(a)}}),[]),(0,r.useEffect)((function(){G(!0),N.Z.getMyStalls().then((function(e){G(!1),g(e.data)})),0!==we&&(N.Z.getBookedStalls().then((function(e){var a=e.data&&e.data.filter((function(e){return e.location==="".concat(H)&&e.bookedAt===we}));X(e.data),se(a.length),console.log("alreadyBooked:",a)})),De(!0))}),[we,H]);var De=function(){return ie(!0)};(0,r.useEffect)((function(){var e=document.createElement("script");return e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,document.body.appendChild(e),function(){document.body.removeChild(e)}}),[]),(0,r.useEffect)((function(){var e=u&&u.filter((function(e){return e.location==="".concat(H)}));Z(e)}),[H,u]),(0,r.useEffect)((function(){C&&(be(C.length),ye(ge-te))}),[C]);var Me=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(s){var r,n,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=D.reduce((function(e,a){return a.stallPrice+e}),0),0!==D.length){e.next=4;break}return B.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),e.abrupt("return");case 4:D.toString(),n={location:H,bookedStalls:D,bookedBy:le.id,bookedAt:we,isBooked:!0},i=[],D.forEach((function(e){i.push(e.stallName)})),"http://localhost:4000/bookedstalls","123",b().post("http://localhost:4000/bookedstalls",n,{headers:(0,x.Z)()}).then((function(e){e.data&&a({farmer:le.firstname+" "+le.lastname,phone:le.phone,paymentDetails:"123",BookedStalls:i,stallsBooked:D.length,totalAmount:r,address:D[0].address}),B.Am.success("stalls booked successfully!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){t("../ticket")}),1e3)})).catch((function(e){B.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),F([]),W(0)}));case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Fe=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(a){var t,s,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===D.length){e.next=23;break}if(!de){e.next=5;break}Me(),e.next=20;break;case 5:if(t=D.reduce((function(e,a){return a.stallPrice+e}),0),0!==D.length){e.next=9;break}return B.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),e.abrupt("return");case 9:return e.prev=9,"http://localhost:4000/order",e.next=13,b().post("http://localhost:4000/order",{amount:100*t},{headers:(0,x.Z)()});case 13:s=e.sent,r=s.data,Ye(r.data),e.next=20;break;case 18:e.prev=18,e.t0=e.catch(9);case 20:console.length(D.length),e.next=25;break;case 23:console.log("in"),B.Am.warn("Please select stalls!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});case 25:case"end":return e.stop()}}),e,null,[[9,18]])})));return function(a){return e.apply(this,arguments)}}(),Ye=function(e){var s=D.toString(),r={key:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.KEY_ID,amount:e.amount,currency:e.currency,order_id:e.id,bookedStalls:s,description:"Wingrow Market",handler:function(){var e=(0,l.Z)((0,o.Z)().mark((function e(s){var r,n,i,l,c,d;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,de){e.next=10;break}return"http://localhost:4000/verify",e.next=5,b().post("http://localhost:4000/verify",s,{headers:(0,x.Z)()});case 5:n=e.sent,i=n.data,r=i.orderId,e.next=11;break;case 10:r="123";case 11:l={location:H,bookedStalls:D,bookedBy:le.id,bookedAt:we,isBooked:!0},c=[],D.forEach((function(e){c.push(e.stallName)})),d=D.reduce((function(e,a){return a.stallPrice+e}),0),"http://localhost:4000/bookedstalls",b().post("http://localhost:4000/bookedstalls",l,{headers:(0,x.Z)()}).then((function(e){e.data&&a({farmer:le.firstname+" "+le.lastname,phone:le.phone,paymentDetails:r,BookedStalls:c,stallsBooked:D.length,totalAmount:d,address:D[0].address}),B.Am.success("stalls booked successfully!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){t("../ticket")}),1e3)})).catch((function(e){B.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),F([]),W(0)})),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),F([]),W(0);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(a){return e.apply(this,arguments)}}(),theme:{color:"#3399cc"}};new window.Razorpay(r).open()},Le=function(e){if(E&&"booked"!==e.target.className){var a=parseInt(E,20);if(D.length<=a)if(D.includes(e.target.id)){var t=D.filter((function(a){return a!==e.target.id}));F(t),ye(xe+1)}else if(D.length<E){var s=C.filter((function(a){return a._id===e.target.id}));ye(xe-1),F([].concat((0,i.Z)(D),[s[0]]))}else if(D.length===a){var r=C.filter((function(a){return a._id===e.target.id}));D.shift(),F([].concat((0,i.Z)(D),[r[0]]))}}console.log()},Ue=null===C||void 0===C?void 0:C.length;return(0,p.jsx)(p.Fragment,{children:U?(0,p.jsx)(M.Z,{}):(0,p.jsxs)("div",{className:"Test",children:[(0,p.jsx)(B.Ix,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,p.jsx)("h2",{className:"market-name",children:H}),(0,p.jsxs)("div",{className:"main_container_stalls",children:[(0,p.jsx)(y.rU,{style:{marginTop:"0px"},className:"backbtn green",to:"/farmers/stallplaces",children:"Back"}),(0,p.jsxs)(m.ZP,{className:"input-div-holder",container:!0,spacing:2,children:[(0,p.jsxs)(m.ZP,{item:!0,xs:12,sm:6,children:[(0,p.jsx)(h.Z,{className:"stall-booking-lable",children:"Enter Booking Date"}),(0,p.jsx)(T.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},name:"booking-date",required:!0,fullWidth:!0,type:"date",id:"booking-date",autoFocus:!0,value:we,onChange:function(e){var a=new Date(e.target.value).getDay();console.log(a),a===Ie[H]?(Se(e.target.value),Ze("")):Ze("Markets in ".concat(H," only on ").concat(["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][Ie[H]-1],", Please choose date accordingly"))},color:"success",className:"textfield",inputProps:{min:je}}),Ne&&(0,p.jsx)(P.Z,{variant:"subtitle1",color:"error",children:Ne})]}),(0,p.jsxs)(m.ZP,{style:{margin:"auto",marginTop:"0rem"},item:!0,xs:12,sm:6,children:[(0,p.jsx)(h.Z,{className:"stall-booking-lable",children:"Number Of Stall Required"}),(0,p.jsx)(T.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},name:"number-of-stalls-req",required:!0,placeholder:"00",fullWidth:!0,type:"number",id:"number-of-stalls-req",autoFocus:!0,color:"success",className:"textfield",value:z,onChange:function(e,a){0!==we?e.target.value<=-1?(W(0),J(0)):e.target.value<=xe?(W(e.target.value),J(e.target.value)):(W(xe),J(xe)):Pe("Please select a date")}}),Te&&(0,p.jsx)(P.Z,{variant:"subtitle1",color:"error",children:Te})]})]}),(0,p.jsxs)(m.ZP,{className:"stall-position-grid",children:[(0,p.jsx)(h.Z,{className:"stall-booking-lable",children:"Select Stall Position"}),(0,p.jsxs)(m.ZP,{className:"stalls-count-cantainer",children:[(0,p.jsx)(m.ZP,{children:(0,p.jsxs)("div",{className:"stalls-count-div",children:[(0,p.jsxs)(P.Z,{className:"count",children:["Total Stalls :",ge]}),(0,p.jsxs)(P.Z,{className:"count",children:["Available Stalls :",xe]})]})}),(0,p.jsx)(m.ZP,{children:C&&H?(0,p.jsxs)("div",{className:"stall_wrapper",children:[34===Ue&&(0,p.jsxs)("div",{className:"StallsContainer",children:[!Re&&(0,p.jsx)(f,{data:C.slice(0,16),handleClick:Le,bookedStalls:D,alreadyBooked:$,date:we}),Re&&(0,p.jsx)(f,{data:C.slice(0,17),handleClick:Le,bookedStalls:D,alreadyBooked:$,date:we}),!Re&&(0,p.jsx)(f,{data:C.slice(16,17),handleClick:Le,bookedStalls:D,alreadyBooked:$,date:we}),!Re&&(0,p.jsx)(f,{data:C.slice(17,18),handleClick:Le,bookedStalls:D,alreadyBooked:$,date:we}),!Re&&(0,p.jsx)(f,{data:C.slice(18,34),handleClick:Le,bookedStalls:D,alreadyBooked:$,date:we}),Re&&(0,p.jsx)(f,{data:C.slice(17,35),handleClick:Le,bookedStalls:D,alreadyBooked:$,date:we})]}),50===Ue&&(0,p.jsxs)("div",{className:"StallsContainer",children:[(0,p.jsx)(f,{data:C.slice(0,24),handleClick:Le,bookedStalls:D,alreadyBooked:$,date:we}),!Re&&(0,p.jsx)(f,{data:C.slice(24,25),handleClick:Le,bookedStalls:D,alreadyBooked:$,date:we}),!Re&&(0,p.jsx)(f,{data:C.slice(25,26),handleClick:Le,bookedStalls:D,alreadyBooked:$,date:we}),(0,p.jsx)(f,{data:C.slice(26,50),handleClick:Le,bookedStalls:D,alreadyBooked:$,date:we})]})]}):(0,p.jsx)("div",{className:"select_market",children:(0,p.jsx)("h2",{children:"Please select the market"})})})]}),(0,p.jsxs)(m.ZP,{className:"stall-pricing-grid",children:[(0,p.jsxs)("div",{className:"stall-pricing-main-div",children:[(0,p.jsxs)("div",{className:"price-holder",children:[(0,p.jsx)(v.Z,{sx:{width:20,height:20,backgroundColor:"#AACE48"},className:"stall-color"}),(0,p.jsx)("div",{className:"stall-price",children:"100/-"})]}),(0,p.jsxs)("div",{className:"price-holder",children:[(0,p.jsx)(v.Z,{sx:{width:20,height:20,backgroundColor:"#3AA54B"},className:"stall-color"}),(0,p.jsx)("div",{className:"stall-price",children:"300/-"})]}),(0,p.jsxs)("div",{className:"price-holder",children:[(0,p.jsx)(v.Z,{sx:{width:20,height:20,backgroundColor:"#A42A56"},className:"stall-color"}),(0,p.jsx)("div",{className:"stall-price",children:"500/-"})]}),(0,p.jsxs)("div",{className:"price-holder",children:[(0,p.jsx)(v.Z,{sx:{width:20,height:20,backgroundColor:"#B3B3B3"},className:"stall-color"}),(0,p.jsx)("div",{className:"stall-price",children:"Booked"})]})]}),console.log(D),(0,p.jsx)(S.Z,{className:"divider"}),(0,p.jsxs)("div",{className:"stall-total-amount-holder",children:[(0,p.jsx)("div",{className:"total-amount",children:"Total Amount"}),(0,p.jsxs)("div",{className:"total-amount",children:["Rs.",D.reduce((function(e,a){return a.stallPrice+e}),0),"/-"]})]})]})]}),0!==E?(0,p.jsx)("div",{className:"modalbtn",children:(0,p.jsx)(A,{setCashOnDelivery:he,confirmBooking:Fe})}):(0,p.jsx)(m.ZP,{container:!0,alignItems:"center",justifyContent:"center",children:(0,p.jsx)(m.ZP,{item:!0,xs:6,children:(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,p.jsx)(k.Z,{style:{width:"110px",height:"40px",paddingLeft:"5rem",paddingRight:"5rem",margin:"1rem",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:"PAY"}),(0,p.jsx)(k.Z,{style:{width:"110px",height:"40px",paddingLeft:"5rem",paddingRight:"5rem",margin:"1rem",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:"PAY IN MARKET"})]})})})]})]})})};var de=function(e){var a=e.bookingDetails;(0,r.useEffect)((function(){t()}));var t=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(){var t,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("booking ",a),"http://localhost:4000/twilio",e.next=4,b().post("http://localhost:4000/twilio",{bookingDetails:a},{headers:(0,x.Z)()});case 4:t=e.sent,s=t.data,console.log(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=a.BookedStalls,i=(0,n.s0)(),c=null===s||void 0===s?void 0:s.toString();return(0,p.jsx)(p.Fragment,{children:a?(0,p.jsxs)("div",{className:"invoice-box",children:[(0,p.jsx)("h2",{className:"thanks",children:"Stall booking details"}),(0,p.jsx)("br",{}),(0,p.jsxs)("div",{className:"invoice_details",children:[(0,p.jsxs)("div",{children:["Farmer Name : ",a.farmer]}),(0,p.jsx)("br",{}),(0,p.jsxs)("div",{children:["Phone : ",a.phone]}),(0,p.jsx)("br",{}),(0,p.jsxs)("div",{children:["No. of Stalls Booked :",a.stallsBooked]}),(0,p.jsx)("br",{}),(0,p.jsxs)("div",{children:["Stalls Booked : ",c]}),(0,p.jsx)("br",{}),(0,p.jsxs)("div",{children:["Payment Id : ",a.paymentDetails]}),(0,p.jsx)("br",{}),(0,p.jsxs)("div",{children:["Addess : ",a.address]}),(0,p.jsx)("br",{}),(0,p.jsxs)("div",{children:["Total Amount : ",a.totalAmount]}),(0,p.jsx)("br",{})]}),(0,p.jsx)("h2",{className:"thanks",children:"Thank You !"}),(0,p.jsxs)("div",{className:"bookings_buttons",children:[(0,p.jsx)("button",{onClick:function(){i("/farmers")},className:"btns_bookings",children:"Continue Booking"}),(0,p.jsx)("button",{onClick:function(){i("../mybookings")},className:"btns_bookings",children:"Check booked stalls"})]})]}):(0,p.jsx)(M.Z,{})})};var he=function(){return(0,p.jsx)("div",{children:(0,p.jsxs)("div",{className:"farmerScreen",children:[(0,p.jsx)(y.rU,{className:"links_farmersdata red",to:"./stallplaces",children:"Book Stall"}),(0,p.jsx)(y.rU,{className:"links_farmersdata green",to:"./mybookings",children:"My Bookings"}),(0,p.jsx)(y.rU,{className:"links_farmersdata red",to:"./inward",children:"Fill Inward"}),(0,p.jsx)(y.rU,{className:"links_farmersdata green",to:"./outward",children:"Fill Outward"}),(0,p.jsx)(y.rU,{className:"links_farmersdata red",to:"./farmershome",children:"Data"}),(0,p.jsx)(y.rU,{className:"links_farmersdata green",to:"./subscription",children:"Subscription"})]})})},ue=t(5653),me=function(){var e=(0,n.s0)(),a=j.Z.getCurrentUser(),t=(0,r.useState)([]),i=(0,s.Z)(t,2),g=i[0],f=i[1],y=(0,r.useState)(),v=(0,s.Z)(y,2),w=(v[0],v[1]),S=(0,r.useState)(!1),C=(0,s.Z)(S,2),Z=C[0],O=C[1],P=(0,r.useState)(),I=(0,s.Z)(P,2),E=I[0],W=I[1],R=(0,r.useState)(),_=(0,s.Z)(R,2),D=_[0],M=_[1],F=(0,r.useState)(),Y=(0,s.Z)(F,2),L=Y[0],U=Y[1],G="http://localhost:4000/",H=(0,r.useState)(),K=(0,s.Z)(H,2),q=K[0],z=K[1],J=(0,r.useState)(),V=(0,s.Z)(J,2),Q=V[0],$=V[1],X=(0,r.useState)(0),ee=(0,s.Z)(X,2),ae=ee[0],te=ee[1];(0,r.useEffect)((function(){N.Z.getBookedStalls().then((function(e){var t=e.data;W(t.filter((function(e){return e.bookedBy===a.id}))),console.log("the booked stalls are -- ",E.length),te(E.length)}))}),[]),(0,r.useEffect)((function(){var e=document.createElement("script");return e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,document.body.appendChild(e),function(){document.body.removeChild(e)}}),[]),(0,r.useEffect)((function(){var e=a.id;(0===g.length||function(e){try{JSON.parse(e)}catch(a){return!1}return!0}(g[0]))&&ue.Z.getSub(e).then((function(e){var a=e.data;f(a),console.log("data",a);var t=new Date(a[0].date),s=t.getFullYear(),r=Number(t.getMonth())+2,n=t.getDate(),i=String(s)+"-"+String(r)+"-"+String(n);console.log(i),$(i),te(a[0].stalls-ae)})),w(!0)}),[]);var se=function(){var t=(0,l.Z)((0,o.Z)().mark((function t(s){var r;return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return 8100,console.log("Im here"),r=a.id,"123",t.next=6,b().post(G+"sub",{date:D,userId:r,validity:L,stalls:q}).then((function(a){var t=a.data;t&&(console.log("data--",t),e("/farmers/subscription")),B.Am.success("stalls booked successfully!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){window.location.reload(!1)}),1e3)})).catch((function(e){B.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),f([])}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),re=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(a){var t,s,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("hellloooo"),!Z){e.next=5;break}se(),e.next=18;break;case 5:return 8100,e.prev=6,t=G+"order",e.next=10,b().post(t,{amount:81e4},{headers:(0,x.Z)()});case 10:s=e.sent,r=s.data,ne(r.data),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(a){return e.apply(this,arguments)}}(),ne=function(e){var t={key:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.KEY_ID,amount:e.amount,currency:e.currency,order_id:e.id,description:"Wingrow Agritech",handler:function(){var e=(0,l.Z)((0,o.Z)().mark((function e(t){var s,r,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://localhost:4000/verify",e.next=4,b().post("http://localhost:4000/verify",t,{headers:(0,x.Z)()});case 4:return s=e.sent,r=s.data,r.orderId,n=a.id,e.next=10,b().post(G+"sub",{date:D,userId:n,validity:L,stalls:q}).then((function(e){var a=e.data;a&&(console.log(a),f(a)),B.Am.success("stalls booked successfully!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){window.location.reload(!1)}),1e3)})).catch((function(e){B.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),f([]);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(a){return e.apply(this,arguments)}}(),theme:{color:"#3399cc"}};new window.Razorpay(t).open()},ie=function(){var e=(0,l.Z)((0,o.Z)().mark((function e(t){var s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s=a.id,console.log(s),e.next=5,b().post(G+"sub",{date:D,userId:s,validity:L,stalls:q}).then((function(e){console.log("the return data ",e)})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,p.jsxs)("div",{className:"sub",children:[(0,p.jsx)("h1",{className:"header",children:"Subscription Model"}),0!==g.length?(0,p.jsxs)("div",{className:"subscribe",children:[(0,p.jsx)("h2",{children:"Subscribed"}),(0,p.jsxs)("h3",{children:["Start data - ",g[0].date]}),(0,p.jsxs)("h3",{children:["validity - ",g[0].validity]}),(0,p.jsxs)("h3",{children:[" valid till - ",Q," "]}),(0,p.jsxs)("h3",{children:["available - ",ae]})]}):(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{children:"not Subscribed"}),(0,p.jsxs)("form",{onSubmit:ie,children:[(0,p.jsxs)(m.ZP,{item:!0,xs:12,sm:6,children:[(0,p.jsx)(h.Z,{className:"stall-booking-lable",children:"Enter Booking Date"}),(0,p.jsx)(T.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},name:"booking-date",required:!0,fullWidth:!0,type:"date",id:"booking-date",autoFocus:!0,value:D,onChange:function(e){M(e.target.value),console.log("clicking")},color:"success",className:"textfield"})]}),(0,p.jsx)(m.ZP,{item:!0,xs:12,children:(0,p.jsxs)(u.Z,{className:"textfield",sx:{width:"100%",fontSize:14},children:[(0,p.jsx)(h.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},id:"demo-simple-select-helper-label",children:"Type"}),(0,p.jsxs)(d.Z,{sx:{fontSize:"1.2rem"},labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:L,label:"Type",name:"type",onChange:function(e){"1"===e.target.value&&(U("1"),z(30))},color:"success",children:[(0,p.jsx)(c.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"",children:(0,p.jsx)("em",{children:"Select"})}),(0,p.jsx)(c.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"1",children:"1 month"})]})]})}),L&&D?(0,p.jsx)("div",{className:"modalbtn",children:(0,p.jsx)(A,{setCashOnDelivery:O,confirmBooking:re})}):(0,p.jsx)(m.ZP,{container:!0,alignItems:"center",justifyContent:"center",children:(0,p.jsx)(m.ZP,{item:!0,xs:6,children:(0,p.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,p.jsx)(k.Z,{style:{width:"110px",height:"40px",paddingLeft:"5rem",paddingRight:"5rem",margin:"1rem",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:"PAY"}),(0,p.jsx)(k.Z,{style:{width:"110px",height:"40px",paddingLeft:"5rem",paddingRight:"5rem",margin:"1rem",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:"PAY IN MARKET"})]})})})]})]})]})},ge=function(){var e=(0,r.useState)({farmer:"",phone:"",paymentDetails:"",BookedStalls:null,stallsBooked:null,totalAmount:null}),a=(0,s.Z)(e,2),t=a[0],i=a[1];return(0,p.jsx)(n.Z5,{children:(0,p.jsxs)(n.AW,{path:"/",element:(0,p.jsx)(Y,{}),children:[(0,p.jsx)(n.AW,{index:!0,element:(0,p.jsx)(he,{})}),(0,p.jsx)(n.AW,{path:"stallplaces/stalls/:Id",element:(0,p.jsx)(ce,{setbookingDetails:i})}),(0,p.jsx)(n.AW,{path:"/farmershome",element:(0,p.jsx)(F,{})}),(0,p.jsx)(n.AW,{path:"/inward",element:(0,p.jsx)($,{})}),(0,p.jsx)(n.AW,{path:"/stallplaces",element:(0,p.jsx)(oe,{})}),(0,p.jsx)(n.AW,{path:"/advancebookings",element:(0,p.jsx)(D,{setbookingDetails:i})}),(0,p.jsx)(n.AW,{path:"/outward",element:(0,p.jsx)(ne,{})}),(0,p.jsx)(n.AW,{path:"/ticket",element:(0,p.jsx)(de,{bookingDetails:t})}),(0,p.jsx)(n.AW,{path:"/mybookings",element:(0,p.jsx)(ae,{})}),(0,p.jsx)(n.AW,{path:"/subscription",element:(0,p.jsx)(me,{})})]})})}},3223:function(e,a,t){t.d(a,{Z:function(){return d}});var s=t(1413),r=(t(2791),t(3767)),n=t(7391),i=t(6571),o=t(7792),l=t(1963),c=t(184);function d(e){var a=e.setValue,t=e.value;return(0,c.jsx)(i._,{dateAdapter:o.y,children:(0,c.jsx)(r.Z,{spacing:3,children:(0,c.jsx)(l.$,{label:"Date",inputFormat:"MM/DD/YYYY",value:t,onChange:function(e){a(e)},renderInput:function(e){return(0,c.jsx)(n.Z,(0,s.Z)({},e))}})})})}},4252:function(e,a,t){t.d(a,{Z:function(){return i}});var s=t(9439),r=t(2791);function n(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function i(){var e=(0,r.useState)(n()),a=(0,s.Z)(e,2),t=a[0],i=a[1];return(0,r.useEffect)((function(){function e(){i(n())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),t}},6525:function(e,a,t){var s=t(4569),r=t.n(s),n=t(6456),i="http://localhost:4000/",o={postInward:function(e,a,t,s,o){return r().post(i+"inward",{commodity:e,purchase_quantity:a,purchase_rate:t,market:s,time:o},{headers:(0,n.Z)()})},postOutward:function(e,a,t,s,o){return r().post(i+"outward",{commodity:e,sales_quantity:a,sales_rate:t,market:s,time:o},{headers:(0,n.Z)()})},getInward:function(){return r().get(i+"inward",{headers:(0,n.Z)()})},getOutward:function(){return r().get(i+"outward",{headers:(0,n.Z)()})},getMyStalls:function(){return r().get(i+"stalls",{headers:(0,n.Z)()})},getInwardData:function(){return r().get(i+"inwardData",{headers:(0,n.Z)()})},getOutwardData:function(){return r().get(i+"outwardData",{headers:(0,n.Z)()})},getBookedStalls:function(){return r().get(i+"bookedstalls",{headers:(0,n.Z)()})},getcancelledStalls:function(){return r().get(i+"cancelledstalls",{headers:(0,n.Z)()})}};a.Z=o},5653:function(e,a,t){var s=t(4569),r=t.n(s),n=t(6456),i="https://wingrowmarket.onrender.com/",o={getPublicContent:function(){return r().get(i+"all")},getStallsData:function(){return r().get(i+"stalls",{headers:(0,n.Z)()})},getAdminData:function(){return r().get(i+"admin",{headers:(0,n.Z)()})},getInOutdata:function(){return r().get(i+"inwardoutward",{headers:(0,n.Z)()})},getFarmers:function(){return r().get(i+"farmer",{headers:(0,n.Z)()})},getAllUsers:function(){return r().get(i+"allusers",{headers:(0,n.Z)()})},getUsers:function(){return r().get(i+"users",{headers:(0,n.Z)()})},getSub:function(e){return r().post("http://localhost:4000/sub1",{userId:e})},postSub:function(e,a,t,s){return r().post(i+"sub",{date:e,userId:a,stalls:t,validity:s},{headers:(0,n.Z)()})}};a.Z=o},8253:function(){}}]);
//# sourceMappingURL=28.c32e606e.chunk.js.map
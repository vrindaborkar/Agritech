"use strict";(self.webpackChunkwingrow=self.webpackChunkwingrow||[]).push([[910],{7910:function(e,s,a){a.r(s),a.d(s,{default:function(){return P}});var n=a(4942),t=a(1413),l=a(3433),r=a(9439),i=a(2791),o=a(6151),c=a(7391),d=a(1889),m=a(890),u=a(4925),p=a(4387),h=a(6362),f=a(4475),g=a(7689),x=a(1087),j=a(6457),Z=a(8704),y=a(1840),v=a(616),b=(a(5462),a(9462)),N=(a(2339),a(184)),S=j.Z.getCurrentUser(),w=[188,13,49];function P(e){e.t,e.languages;(0,i.useEffect)((function(){S&&(j.Z.logout(),window.location.reload())}),[]);var s=(0,g.s0)(),a=(0,i.useState)(!1),P=(0,r.Z)(a,2),C=P[0],z=P[1],F=(0,i.useState)({phone:"",password:"",firstname:"",lastname:"",type:"",farmertype:"",address:""}),A=(0,r.Z)(F,2),O=A[0],k=A[1],I=i.useState([]),T=(0,r.Z)(I,2),W=T[0],U=T[1],V=(0,i.useState)(),B=(0,r.Z)(V,2),R=B[0],D=B[1],E=(0,i.useState)(""),H=(0,r.Z)(E,2),q=H[0],L=H[1],M=function(e){var s=e.target,a=s.name,l=s.value;k((function(e){return(0,t.Z)((0,t.Z)({},e),{},(0,n.Z)({},a,l))}))},_=function(){window.recaptchaVerifier=new b.Z.auth.RecaptchaVerifier("sign-in-button",{size:"invisible",callback:function(e){K(),console.log("Recaptcha Verified")},defaultCountry:"IN"})},K=function(e){e.preventDefault(),console.log("here"),_();var s="+91"+O.phone;console.log(s);var a=window.recaptchaVerifier;b.Z.auth().signInWithPhoneNumber(s,a).then((function(e){v.Am.success("OTP SENT!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),window.confirmationResult=e,console.log("OTP has been sent")})).catch((function(e){console.log("SMS not sent"),v.Am.warn("Invalid phone",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),k({phone:"",password:"",firstname:"",lastname:"",type:"",farmertype:"",address:""}),setTimeout((function(){window.location.reload(!1)}),1e3)}))},J=(0,i.useState)(!0),G=(0,r.Z)(J,2),Q=(G[0],G[1],(0,i.useState)(!0)),X=(0,r.Z)(Q,2),Y=(X[0],X[1],(0,i.useState)(!1)),$=(0,r.Z)(Y,2),ee=($[0],$[1],(0,i.useState)(!1)),se=(0,r.Z)(ee,2),ae=(se[0],se[1],(0,i.useState)(!1)),ne=(0,r.Z)(ae,2);ne[0],ne[1];return(0,N.jsxs)("div",{className:"authContainer",children:[(0,N.jsx)(v.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",color:"success"}),(0,N.jsx)(v.Ix,{}),C?(0,N.jsx)(y.Z,{}):(0,N.jsxs)("div",{className:"authbox",children:[(0,N.jsx)("img",{className:"login_image",src:"./images/2.png",alt:"logo"}),(0,N.jsxs)("form",{className:"register_details",component:"form",noValidate:!0,onSubmit:function(e){console.log("inside handleSubmit"),L(""),e.preventDefault();var a=O.phone,n=O.firstname,t=O.lastname,l=O.farmertype,r=O.type;a.match("[0-9]{10}")?0===n.length&&0===t.length?L("Please provide valid first and last name"):0===r.length?L("Please select type"):"farmer"===r&&0===l.length?L("select producer type"):"farmer"===r&&0===W.length?L("select atleast one commodity and press enter"):(L("no error"),z(!0),j.Z.register(O.phone,O.password,O.firstname,O.lastname,O.type,O.farmertype,O.address,W).then((function(){v.Am.success("Registration successful!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){s("/registeration-successfull"),window.location.reload()}),1e3)}),(function(e){v.Am.warn("User Already Exists",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),k({phone:"",password:"",firstname:"",lastname:"",type:"",farmertype:"",address:""}),setTimeout((function(){s("/login"),window.location.reload()}),1e3)}))):L("Please provide valid phone number")},sx:{mt:3},children:[(0,N.jsx)("div",{id:"sign-in-button"}),(0,N.jsx)("img",{className:"form-logo",src:"./logo.png",alt:"form-logo"}),(0,N.jsx)(m.Z,{className:"form-heading",component:"h1",variant:"h5",children:(0,N.jsx)("span",{className:"heading",children:"Welcome to Wingrowagritech"})}),(0,N.jsx)(m.Z,{className:"form-heading",mt:2,component:"h1",variant:"h5",children:(0,N.jsx)("span",{className:"heading",children:"Signup with us"})}),(0,N.jsxs)(d.ZP,{className:"input-div-holder",container:!0,spacing:2,children:[(0,N.jsx)(d.ZP,{item:!0,xs:12,sm:6,children:(0,N.jsx)(c.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"Arturo"}},autoComplete:"given-name",name:"firstname",value:O.firstname,onChange:M,required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,color:"success",className:"textfield"})}),(0,N.jsx)(d.ZP,{item:!0,xs:12,sm:6,children:(0,N.jsx)(c.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"Arturo"}},required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastname",value:O.lastname,onChange:M,autoComplete:"family-name",color:"success",className:"textfield"})}),(0,N.jsx)(d.ZP,{item:!0,xs:6,children:(0,N.jsx)(c.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"Arturo"}},required:!0,fullWidth:!0,id:"phone",label:"Mobile Number",name:"phone",value:O.phone,onChange:M,color:"success",className:"textfield"})}),(0,N.jsx)(d.ZP,{item:!0,xs:6,children:(0,N.jsx)(o.Z,{type:"button",fullWidth:!0,onClick:K,className:"signup-btn",variant:"contained",color:"success",size:"large",sx:{mt:2,mb:2},children:(0,N.jsx)("span",{className:"heading",children:"Fetch Otp"})})}),(0,N.jsx)(d.ZP,{item:!0,xs:6,children:(0,N.jsx)(c.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"Arturo"}},required:!0,fullWidth:!0,name:"password",label:"Enter OTP",type:"password",id:"password",value:O.password,onChange:M,autoComplete:"new-password",color:"success",className:"textfield"})}),(0,N.jsx)(d.ZP,{item:!0,xs:6,children:(0,N.jsx)(o.Z,{type:"button",fullWidth:!0,onClick:function(e){e.preventDefault();var s=O.password;console.log(s),window.confirmationResult.confirm(s).then((function(e){var s=e.user;console.log(JSON.stringify(s)),alert("User is verified")})).catch((function(e){console.log("erroe in sumbitotp")}))},className:"signup-btn",variant:"contained",color:"success",size:"large",sx:{mt:2,mb:2},children:(0,N.jsx)("span",{className:"heading",children:"Submit OTP"})})}),(0,N.jsx)(d.ZP,{item:!0,xs:12,children:(0,N.jsxs)(h.Z,{className:"textfield",sx:{width:"100%",fontSize:14},children:[(0,N.jsx)(u.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"Arturo"}},id:"demo-simple-select-helper-label",children:(0,N.jsx)("span",{className:"heading",children:"Type"})}),(0,N.jsxs)(f.Z,{sx:{fontSize:"1.2rem"},labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:O.type,label:"Type",name:"type",onChange:M,color:"success",children:[(0,N.jsx)(p.Z,{sx:{fontSize:"1.3rem",fontFamily:"Arturo"},value:"",children:(0,N.jsx)("em",{className:"heading",children:"Select"})}),(0,N.jsx)(p.Z,{sx:{fontSize:"1.3rem",fontFamily:"Arturo"},value:"farmer",children:(0,N.jsx)("span",{className:"heading",children:"Producer"})}),(0,N.jsx)(p.Z,{sx:{fontSize:"1.3rem",fontFamily:"Arturo"},value:"customer",children:(0,N.jsx)("span",{className:"heading",children:"Consumer"})})]})]})}),"farmer"===O.type&&(0,N.jsx)(d.ZP,{item:!0,xs:12,children:(0,N.jsxs)(h.Z,{className:"textfield",color:"success",sx:{width:"100%"},children:[(0,N.jsx)(u.Z,{id:"demo-simple-select-helper-label",children:(0,N.jsx)("span",{className:"heading",children:"Producer Type"})}),(0,N.jsxs)(f.Z,{sx:{fontSize:"1.3rem"},labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:O.farmertype,label:"farmertype",name:"farmertype",onChange:M,children:[(0,N.jsx)(p.Z,{value:"",children:(0,N.jsx)("em",{className:"heading",children:"None"})}),(0,N.jsx)(p.Z,{sx:{fontSize:"1.3rem",fontFamily:"Arturo"},value:"farmers",children:(0,N.jsx)("span",{className:"heading",children:"Farmer"})}),(0,N.jsx)(p.Z,{sx:{fontSize:"1.3rem",fontFamily:"Arturo"},value:"Organic farmers",children:(0,N.jsx)("span",{className:"heading",children:"Organic Farmer"})}),(0,N.jsx)(p.Z,{sx:{fontSize:"1.3rem",fontFamily:"Arturo"},value:"FPO/FPC",children:(0,N.jsx)("span",{className:"heading",children:"FPO/FPC"})}),(0,N.jsx)(p.Z,{sx:{fontSize:"1.3rem",fontFamily:"Arturo"},value:"Retailer",children:(0,N.jsx)("span",{className:"heading",children:"Retailer"})}),(0,N.jsx)(p.Z,{sx:{fontSize:"1.3rem",fontFamily:"Arturo"},value:"Wholesaler",children:(0,N.jsx)("span",{className:"heading",children:"Wholesaler"})}),(0,N.jsx)(p.Z,{sx:{fontSize:"1.3rem",fontFamily:"Arturo"},value:"Start-up",children:(0,N.jsx)("span",{className:"heading",children:"Start Up"})}),(0,N.jsx)(p.Z,{sx:{fontSize:"1.3rem",fontFamily:"Arturo"},value:"Vocal for local producers",children:(0,N.jsx)("span",{className:"heading",children:"Vocal for Local Producers"})})]})]})}),(0,N.jsx)(d.ZP,{item:!0,xs:12,children:(0,N.jsx)(c.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"Arturo"}},fullWidth:!0,name:"address",label:"address (optional)",type:"address",id:"address",value:O.address,onChange:M,autoComplete:"new-address",color:"success",className:"textfield"})}),"farmer"===O.type&&(0,N.jsx)(d.ZP,{item:!0,xs:6,children:(0,N.jsx)(Z.V,{InputProps:{style:{fontSize:15}},inputlabelprops:{style:{fontSize:15}},tags:W,delimiters:w,handleDelete:function(e){U(W.filter((function(s,a){return a!==e})))},handleAddition:function(e){console.log("here",R),U([].concat((0,l.Z)(W),[e])),D("")},handleDrag:function(e,s,a){var n=W.slice();n.splice(s,1),n.splice(a,0,e),U(n)},inputFieldPosition:"bottom",handleInputChange:console.log("hello-----",W),autocomplete:!0,color:"success",className:"textfield",placeholder:"Add Selling Products Names and press enter"})})]}),"no error"!==q&&(0,N.jsx)("h3",{style:{alignSelf:"center",color:"red",marginTop:"10px"},children:q}),(0,N.jsx)(o.Z,{item:!0,xs:12,type:"submit",fullWidth:!0,className:"signup-btn",variant:"contained",color:"success",size:"large",sx:{mt:3,mb:2},children:(0,N.jsx)("span",{className:"heading",children:"register"})}),(0,N.jsx)(d.ZP,{container:!0,justifyContent:"center",children:(0,N.jsx)(d.ZP,{item:!0,children:(0,N.jsxs)(x.rU,{className:"form-link",to:"/login",variant:"body2",children:["Already have an account? ",(0,N.jsx)("span",{className:"login",children:"Log In"})]})})})]})]})]})}},9462:function(e,s,a){var n=a(3897);a(7493);n.Z.initializeApp({apiKey:"AIzaSyAUxdUdNhrl8BSz_4MxKa0d6FwiCfgMtUE",authDomain:"otp-demo-cc2a7.firebaseapp.com",projectId:"otp-demo-cc2a7",storageBucket:"otp-demo-cc2a7.appspot.com",messagingSenderId:"646152500375",appId:"1:646152500375:web:389ef29c749b662bd8e5d2"}),s.Z=n.Z}}]);
//# sourceMappingURL=910.e4c6bdad.chunk.js.map